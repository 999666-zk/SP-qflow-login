{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.replace-all.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport '@/assets/icon/iconfont.css';\nexport default {\n  components: {},\n  data: function data() {\n    return {\n      //默认自动打开\n      // loopvalue: true,\n      //footerdata\n      formNewData: {\n        WayName: '',\n        WayImgUrl: '',\n        WayToUrl: ''\n      },\n      formNewDataFooter: {\n        text: '',\n        img: '',\n        href: ''\n      },\n      //对话框\n      dialogFormVisible: false,\n      dialogFormVisibleUp: false,\n      dialogFormVisibleDown: false,\n      //---------edit\n      dynamicTags: [],\n      dynamicTagsUp: [],\n      dynamicTagsDown: [],\n      // 展示的内容\n      dynamicTagsImg: [],\n      inputVisibleImg: false,\n      inputValueImg: '',\n      inputVisible: false,\n      // inputValue: '',\n      //----------\n      isshow: false,\n      // 100%宽度\n      fullWidth: 0,\n      // 70%宽度\n      changeWidth: 34,\n      // 全部setting信息\n      allData: {},\n      // 保存版本号信息\n      QFversionData: 4.3,\n      //--------------setting--start\n      userData: {},\n      useQingFlowVersion: [4.1, 4.2, 4.3, 4.4, 4.5, 4.6],\n      // ssoHideData: {},\n      styleData: {// qf_logo: 'qf-logo_left',\n        // qf_login: 'ms-login_right',\n        // qf_footer: 'footer-bottom-center',\n        // background_path: '../../assets/img/login-bg.jpg',\n        // login_url: 'https://accounts.qingflow.com/api/user/login'\n      },\n      footDatas: {},\n      loginWaysData: [],\n      //----------------------setting--end\n      logo_path: '',\n      icon_path: '',\n      open: false,\n      param: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      },\n      rulesDialog: {\n        WayName: [{\n          required: true,\n          message: '请输入登录方式名称（例如：微信；企业微信）',\n          trigger: 'blur'\n        }],\n        WayImgUrl: [{\n          required: true,\n          message: '请输入图片的URL地址',\n          trigger: 'blur'\n        }, {\n          pattern: // eslint-disable-next-line no-useless-escape\n          /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n          message: '请输入正确的地址',\n          trigger: 'blur'\n        }],\n        WayToUrl: [{\n          required: true,\n          message: '请输入点击图片所跳转到的地址',\n          trigger: 'blur'\n        }, {\n          pattern: // eslint-disable-next-line no-useless-escape\n          /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n          message: '请输入正确的地址',\n          trigger: 'blur'\n        }]\n      },\n      rulesDialogFoot: {\n        text: [{\n          required: true,\n          message: '请输入相关描述',\n          trigger: 'blur'\n        }],\n        img: [{\n          required: false,\n          message: '请输入图片的URL地址【如果没有就留空】',\n          trigger: 'blur'\n        }, {\n          pattern: // eslint-disable-next-line no-useless-escape\n          /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n          message: '请输入正确的地址'\n        }],\n        href: [{\n          required: true,\n          message: '请输入点击文本所跳转到的地址',\n          trigger: 'blur'\n        }, {\n          pattern: // eslint-disable-next-line no-useless-escape\n          /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n          message: '请输入正确的地址'\n        }]\n      },\n      form: {\n        settingData: ''\n      },\n      title: '',\n      pubKey: '',\n      EMAIL_REGEX: /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n      MOBILENUM_REGEX: /^\\d{4,11}$/,\n      elGroup: '',\n      //显示alert\n      showElAlert: false,\n      showElAlert2: false,\n      showElAlert3: false,\n      // 是否设置完成\n      allRight: false,\n      lang: ''\n    };\n  },\n  methods: {\n    getlangval: function getlangval(value) {\n      // console.log('fffffff', value);\n      this.lang = value;\n    },\n    changeSelect: function changeSelect(value) {\n      window.alert(value);\n    },\n    closeRight: function closeRight() {\n      this.isshow = false;\n      this.$emit('closeBox', this.fullWidth);\n    },\n    openRight: function openRight() {\n      this.isshow = !this.isshow;\n\n      if (this.isshow) {\n        this.$emit('openBox', this.changeWidth);\n      } else {\n        this.$emit('closeBox', this.fullWidth);\n      }\n    },\n    setboxDemo: function setboxDemo() {\n      this.isshow = true;\n      this.$emit('openBox', this.changeWidth);\n    },\n    // 获取数据\n    getData: function getData() {\n      var _this = this;\n\n      // **注意**\n      // vue.config.js中修改publiPath的时候需要，修改这里'/qf-login/table.json'\n      // this.$axios.get('./table.json').then((res) => {\n      this.$axios.get('./table.json').then(function (res) {\n        console.log(res, 'fff');\n        _this.styleData = res.data.data.styleData;\n        _this.footerData = res.data.data.footerData;\n        _this.loginWaysData = res.data.data.loginWays;\n        _this.userData = res.data.data.userData;\n        document.title = 'Login｜' + _this.userData.username;\n        _this.footDatas = res.data.data.footData;\n        _this.dynamicTagsImg = res.data.data.backgroundImg;\n        _this.logo_path = res.data.data.logo_path;\n        _this.icon_path = res.data.data.icon_path; //为跳转链接赋随机校验值\n\n        var loginWays = res.data.data.loginWays;\n        loginWays[0].WayToUrl = loginWays[0].WayToUrl.replace('<nonce>', crypto.randomUUID().replaceAll('-', ''));\n        res.data.data.loginWays = loginWays;\n        _this.allData = res.data.data;\n        _this.allData = res.data.data;\n        _this.elGroup = res.data.data.userData.useQingFlowVersion;\n        _this.lang = res.data.data.lang;\n        console.log('lalalal', _this.lang); //全部数据\n\n        _this.rulesWayData(_this.loginWaysData, _this.dynamicTags, 'WayName');\n\n        _this.rulesWayData(_this.footDatas.topArea, _this.dynamicTagsUp, 'text');\n\n        _this.rulesWayData(_this.footDatas.underArea, _this.dynamicTagsDown, 'text');\n\n        _this.$emit('pullData', _this.allData);\n\n        _this.$emit('sendImgs', _this.dynamicTagsImg);\n\n        _this.$emit('logo', _this.logo_path);\n\n        _this.$emit('icon', _this.icon_path);\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    // 抽离方法\n    // this.loginWaysData ---dataFrom\n    // this.formNewData ----FormDatas\n    // WayName  ---tags\n    // this.dynamicTags ---diaFromDatas\n    // this.dialogFormVisible ----flag-----#####\n    submitForm: function submitForm(formName, dataFrom, FormDatas, tags, diaFromDatas) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          // console.log(this.formNewData);\n          dataFrom.push(FormDatas);\n\n          if (formName == 'ruleForm') {\n            _this2.$emit('loginwaycheck', dataFrom);\n          } else {\n            _this2.$emit('footArea', _this2.footDatas);\n          } //添加展示的tag\n\n\n          diaFromDatas.push(FormDatas[tags]); //判断\n\n          if (formName == 'ruleForm') {\n            _this2.dialogFormVisible = false; // return false;\n          } else if (formName == 'ruleFormFootUp') {\n            _this2.dialogFormVisibleUp = false; // return false;\n          } else if (formName == 'ruleFormFootDown') {\n            _this2.dialogFormVisibleDown = false; // return false;\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    //组织初始化数据\n    //dataFrom ---this.loginWaysData\n    //dataTo --- this.dynamicTags\n    rulesWayData: function rulesWayData(dataFrom, dataTo, tagName) {\n      dataFrom.forEach(function (item) {\n        dataTo.push(item[tagName]);\n      });\n    },\n    saveForm: function saveForm() {\n      var data = {\n        data: {\n          lang: this.lang,\n          logo_path: this.logo_path,\n          icon_path: this.icon_path,\n          userData: {\n            username: this.userData.username,\n            useQingFlowVersion: this.userData.useQingFlowVersion\n          },\n          styleData: {\n            qf_logo: this.styleData.qf_logo,\n            qf_login: this.styleData.qf_login,\n            qf_footer: this.styleData.qf_footer,\n            login_type: this.styleData.login_type,\n            login_tips: this.styleData.login_tips,\n            login_footer: this.styleData.login_footer,\n            homeUrl: this.styleData.homeUrl,\n            qf_homeStyle: this.styleData.qf_homeStyle,\n            qf_swiper_way: this.styleData.qf_swiper_way,\n            qf_loopvalue: this.styleData.qf_loopvalue,\n            qf_swiper_pages: this.styleData.qf_swiper_pages,\n            // -----------\n            qflowType: this.styleData.qflowType,\n            qflowDomain: this.styleData.qflowDomain,\n            settingHide: '2'\n          },\n          backgroundImg: this.dynamicTagsImg,\n          loginWays: this.loginWaysData,\n          footData: this.footDatas\n        } // logo_path: this.logo_path,\n        // background_path: this.background_path\n\n      };\n      this.form.settingData = JSON.stringify(data);\n    },\n    // handleAdd() {\n    //     this.open = true;\n    //     this.title = '自定义登录页配置';\n    // },\n    cancel: function cancel() {\n      this.open = false;\n    },\n    getCheckRadio: function getCheckRadio(value) {\n      this.QFversionData = value;\n    },\n    //进行handleCloseMY函数的封装\n    // dataFrom  -----this.dynamicTags //数据源\n    // toFrom ----this.loginWaysData\n    handleCloseMY: function handleCloseMY(tag, dataFrom, toFrom, tagName) {\n      dataFrom.splice(dataFrom.indexOf(tag), 1); //进行移除操作\n      // this.loginWaysData.splice(this.loginWaysData.indexOf());\n\n      var deleteIndex = 0;\n\n      for (var index = 0; index < toFrom.length; index++) {\n        var element = toFrom[index];\n\n        if (element[tagName] == tag) {\n          deleteIndex = index;\n        }\n      }\n\n      toFrom.splice(deleteIndex, 1);\n    },\n    showInput: function showInput() {\n      var _this3 = this;\n\n      //改变为dialog\n      if (this.loginWaysData.length >= 5) {\n        this.showElAlert = true;\n        setTimeout(function () {\n          _this3.showElAlert = false;\n        }, 5000);\n      } else {\n        this.dialogFormVisible = true; // this.$refs[formName].resetFields();\n\n        this.formNewData = {};\n      }\n    },\n    showInputUp: function showInputUp() {\n      var _this4 = this;\n\n      if (this.footDatas.topArea.length >= 5) {\n        this.showElAlert2 = true;\n        setTimeout(function () {\n          _this4.showElAlert2 = false;\n        }, 5000);\n      } else {\n        this.dialogFormVisibleUp = true; // this.$refs[formName].resetFields();\n\n        this.formNewDataFooter = {};\n      }\n    },\n    showInputDown: function showInputDown() {\n      var _this5 = this;\n\n      if (this.footDatas.underArea.length >= 5) {\n        this.showElAlert2 = true;\n        setTimeout(function () {\n          _this5.showElAlert2 = false;\n        }, 5000);\n      } else {\n        this.dialogFormVisibleDown = true; // this.$refs[formName].resetFields();\n\n        this.formNewDataFooter = {};\n      }\n    },\n    submitFormAll: function submitFormAll() {\n      this.allRight = true;\n      this.$emit('allright', this.allRight);\n      this.closeRight();\n    },\n    cancelFormData: function cancelFormData(formName) {\n      this.allRight = false;\n      this.$emit('allright', this.allRight);\n      this.$refs[formName].resetFields();\n    },\n    //background img\n    handleCloseImg: function handleCloseImg(tag) {\n      this.dynamicTagsImg.splice(this.dynamicTagsImg.indexOf(tag), 1);\n    },\n    showInputImg: function showInputImg() {\n      var _this6 = this;\n\n      if (this.dynamicTagsImg.length >= 5) {\n        this.showElAlert3 = true;\n        setTimeout(function () {\n          _this6.showElAlert3 = false;\n        }, 5000);\n      } else {\n        this.inputVisibleImg = true;\n        this.$nextTick(function () {\n          _this6.$refs.saveTagInputImg.$refs.input.focus();\n        });\n      }\n    },\n    handleInputConfirmImg: function handleInputConfirmImg() {\n      var inputValueImg = this.inputValueImg;\n\n      if (inputValueImg) {\n        this.dynamicTagsImg.push(inputValueImg);\n      }\n\n      this.inputVisibleImg = false;\n      var innerObj = {\n        flag: this.inputVisibleImg\n      };\n      this.$emit('theNewImg', innerObj);\n      this.inputValueImg = '';\n    },\n    getInputText: function getInputText(value) {\n      console.log(value); // alert('dasf');\n\n      this.$emit('logo', this.logo_path);\n    },\n    getInputTexticon: function getInputTexticon() {\n      this.$emit('icon', this.icon_path);\n    }\n  },\n  created: function created() {\n    this.getData(); // 将图片数据传递到父组件\n  }\n};","map":{"version":3,"mappings":"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","names":["components","data","formNewData","WayName","WayImgUrl","WayToUrl","formNewDataFooter","text","img","href","dialogFormVisible","dialogFormVisibleUp","dialogFormVisibleDown","dynamicTags","dynamicTagsUp","dynamicTagsDown","dynamicTagsImg","inputVisibleImg","inputValueImg","inputVisible","isshow","fullWidth","changeWidth","allData","QFversionData","userData","useQingFlowVersion","styleData","footDatas","loginWaysData","logo_path","icon_path","open","param","username","password","rules","required","message","trigger","rulesDialog","pattern","rulesDialogFoot","form","settingData","title","pubKey","EMAIL_REGEX","MOBILENUM_REGEX","elGroup","showElAlert","showElAlert2","showElAlert3","allRight","lang","methods","getlangval","value","changeSelect","window","closeRight","openRight","setboxDemo","getData","console","document","loginWays","res","resetForm","formName","submitForm","dataFrom","FormDatas","tags","diaFromDatas","rulesWayData","dataTo","tagName","saveForm","qf_logo","qf_login","qf_footer","login_type","login_tips","login_footer","homeUrl","qf_homeStyle","qf_swiper_way","qf_loopvalue","qf_swiper_pages","qflowType","qflowDomain","settingHide","backgroundImg","footData","cancel","getCheckRadio","handleCloseMY","tag","toFrom","deleteIndex","showInput","setTimeout","showInputUp","showInputDown","submitFormAll","cancelFormData","handleCloseImg","showInputImg","handleInputConfirmImg","flag","getInputText","getInputTexticon","created"],"sourceRoot":"src/components/SettingTools","sources":["SettingTools.vue"],"sourcesContent":["<template>\n    <div class=\"drawer\">\n        <div class=\"setting\" v-if=\"styleData.settingHide === '1'\">\n            <!-- <span @click.stop=\"openRight()\" class=\"iconfont icon-setting\"></span> -->\n        </div>\n        <!-- <div @click.stop=\"setboxDemo()\" :class=\"[styleData.settingHide === '1' ? 'setbox' : 'setbox2', { show: isshow }]\">\n            <div class=\"header\">\n                <p class=\"fl\">{{ $t('message.settingTitle') }}</p>\n                <p class=\"off\" @click.stop=\"closeRight\">\n                    <span class=\"iconfont icon-close\"></span>\n                </p>\n            </div>\n            <div class=\"main\">\n                <el-alert :title=\"$t('message.ssolimit')\" type=\"warning\" show-icon v-if=\"showElAlert\"></el-alert>\n\n                <el-alert :title=\"$t('message.footerlimit')\" type=\"warning\" show-icon v-if=\"showElAlert2\"> </el-alert>\n\n                <el-alert :title=\"$('message.addImglimit')\" type=\"warning\" show-icon v-if=\"showElAlert3\"> </el-alert>\n                <div class=\"middle\">\n                    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"150px\">\n                        <Comlang :msg=\"lang\" @sendmsg=\"getlangval\"></Comlang>\n                        <el-form-item :label=\"$t('message.ClientName')\">\n                            <el-input v-model=\"userData.username\" size=\"small\" type=\"text\" />\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.QFversion')\">\n                            <el-radio-group v-model=\"elGroup\" @change=\"getCheckRadio\">\n                                <template v-for=\"item in useQingFlowVersion\">\n                                    <el-badge value=\"new\" class=\"new\" v-if=\"item.isNew\" type=\"success\" :key=\"item\">\n                                        <el-radio :label=\"item\" border size=\"small\">\n                                            {{ item }}\n                                        </el-radio>\n                                    </el-badge>\n                                    <el-badge value=\"hot\" class=\"hot is-checked\" :key=\"item\" v-else-if=\"item.isBase\">\n                                        <el-radio :label=\"item\" border size=\"small\">\n                                            {{ item }}\n                                        </el-radio>\n                                    </el-badge>\n                                    <el-radio :label=\"item\" border size=\"small\" :key=\"item\">\n                                        {{ item }}\n                                    </el-radio>\n                                </template>\n                            </el-radio-group>\n                        </el-form-item>\n\n                        <el-form-item :label=\"$t('message.allView')\">\n                            <el-radio v-model=\"styleData.qf_homeStyle\" label=\"leftAndright\">{{ $t('message.lf') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_homeStyle\" label=\"allView\">{{ $t('message.fullView') }}</el-radio>\n                        </el-form-item>\n\n                        <el-form-item :label=\"$t('message.autoPlay')\" v-show=\"styleData.qf_homeStyle === 'leftAndright'\">\n                            <el-switch v-model=\"styleData.qf_loopvalue\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"> </el-switch>\n                        </el-form-item>\n\n                        <el-form-item\n                            :label=\"$t('message.moveDir')\"\n                            v-show=\"styleData.qf_homeStyle === 'leftAndright' && styleData.qf_loopvalue === true\"\n                        >\n                            <el-radio v-model=\"styleData.qf_swiper_way\" label=\"horizontal\">{{ $t('message.horizontal') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_swiper_way\" label=\"vertical\">{{ $t('message.vertical') }}</el-radio>\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.Pager')\" v-show=\"styleData.qf_homeStyle === 'leftAndright'\">\n                            <el-radio v-model=\"styleData.qf_swiper_pages\" label=\"inside\">{{ $t('message.show') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_swiper_pages\" label=\"none\">{{ $t('message.hide') }}</el-radio>\n                        </el-form-item>\n\n                        <el-form-item :label=\"$t('message.imgLocation')\" prop=\"background\" id=\"imgsp\">\n                            <el-tag\n                                :key=\"index\"\n                                v-for=\"(tag, index) in dynamicTagsImg\"\n                                closable\n                                :disable-transitions=\"false\"\n                                @close=\"handleCloseImg(tag)\"\n                            >\n                                <img style=\"display: block\" :src=\"tag\" width=\"80px\" alt=\"\" />\n                            </el-tag>\n                            <el-input\n                                class=\"input-new-tag\"\n                                v-if=\"inputVisibleImg\"\n                                v-model=\"inputValueImg\"\n                                ref=\"saveTagInputImg\"\n                                size=\"small\"\n                                @keyup.enter.native=\"handleInputConfirmImg\"\n                                @blur=\"handleInputConfirmImg\"\n                            >\n                            </el-input>\n\n                            <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInputImg\">{{\n                                $t('message.addImg')\n                            }}</el-button>\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.loginWay')\" prop=\"loginway\">\n                            <el-radio v-model=\"styleData.login_type\" label=\"passport\">{{ $t('message.passport') }}</el-radio>\n                            <el-radio v-model=\"styleData.login_type\" label=\"passportsso\">{{ $t('message.passportsso') }}</el-radio>\n                            <el-radio v-model=\"styleData.login_type\" label=\"sso\">{{ $t('message.sso') }}</el-radio>\n                        </el-form-item>\n\n                        <el-form-item v-if=\"styleData.login_type == 'passportsso' || styleData.login_type == 'sso'\">\n                            <el-tag\n                                :key=\"index\"\n                                v-for=\"(tag, index) in dynamicTags\"\n                                closable\n                                :disable-transitions=\"false\"\n                                @close=\"handleCloseMY(tag, dynamicTags, loginWaysData, 'WayName')\"\n                                id=\"el-tag-img\"\n                            >\n                                {{ tag }}\n                            </el-tag>\n                            <el-input\n                                class=\"input-new-tag\"\n                                v-if=\"inputVisible\"\n                                v-model=\"inputValue\"\n                                ref=\"saveTagInput\"\n                                size=\"small\"\n                                @blur=\"handleInputConfirm\"\n                            >\n                            </el-input>\n                            <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">{{\n                                $t('message.addSsoWays')\n                            }}</el-button>\n                        </el-form-item>\n\n                        <el-dialog :title=\"$t('message.ssoLoginSet')\" :visible.sync=\"dialogFormVisible\" :append-to-body=\"true\" width=\"50%\">\n                            <el-form :model=\"formNewData\" label-position=\"left\" label-width=\"135px\" :rules=\"rulesDialog\" ref=\"ruleForm\">\n                                <el-form-item :label=\"$t('message.WayName')\" required prop=\"WayName\">\n                                    <el-input v-model=\"formNewData.WayName\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item :label=\"$t('message.WayImgUrl')\" required prop=\"WayImgUrl\">\n                                    <el-input v-model=\"formNewData.WayImgUrl\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item :label=\"$t('message.WayToUrl')\" required prop=\"WayToUrl\">\n                                    <el-input v-model=\"formNewData.WayToUrl\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item>\n                                    <el-button @click=\"dialogFormVisible = false\">{{ $t('message.cancel') }}</el-button>\n                                    <el-button @click=\"resetForm('ruleForm')\" type=\"warning\">{{ $t('message.reset') }}</el-button>\n                                    <el-button\n                                        type=\"primary\"\n                                        @click=\"submitForm('ruleForm', loginWaysData, formNewData, 'WayName', dynamicTags)\"\n                                        >{{ $t('message.ok') }}</el-button\n                                    >\n                                </el-form-item>\n                            </el-form>\n                        </el-dialog>\n\n                        <el-form-item :label=\"$t('message.logoAdd')\" prop=\"logo_path\">\n                            <el-input v-model=\"logo_path\" :placeholder=\"$t('message.logoAddmsg')\" size=\"small\" @blur=\"getInputText\" />\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.iconImgAd')\" prop=\"logo_path\">\n                            <el-input v-model=\"icon_path\" :placeholder=\"$t('message.iconImgAdMsg')\" size=\"small\" @blur=\"getInputTexticon\" />\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.logoPos')\" prop=\"logo\">\n                            <el-radio v-model=\"styleData.qf_logo\" label=\"qf-logo_left\">{{ $t('message.poleft') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_logo\" label=\"qf-logo_center\">{{ $t('message.pocenter') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_logo\" label=\"qf-logo_right\">{{ $t('message.poright') }}</el-radio>\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.loginPosition')\" prop=\"login\" v-show=\"styleData.qf_homeStyle === 'allView'\">\n                            <el-radio v-model=\"styleData.qf_login\" label=\"ms-login_left\">{{ $t('message.poleft') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_login\" label=\"ms-login\">{{ $t('message.pocenter') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_login\" label=\"ms-login_right\">{{ $t('message.poright') }}</el-radio>\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.footering')\" prop=\"loginfooter\" v-show=\"styleData.qf_homeStyle === 'allView'\">\n                            <el-radio v-model=\"styleData.login_footer\" label=\"1\">{{ $t('message.show') }}</el-radio>\n                            <el-radio v-model=\"styleData.login_footer\" label=\"2\">{{ $t('message.hide') }}</el-radio>\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.footerPo')\" prop=\"footer\" v-if=\"styleData.login_footer == 1\">\n                            <el-radio v-model=\"styleData.qf_footer\" label=\"footer-bottom-center-up\">{{ $t('message.above') }}</el-radio>\n                            <el-radio v-model=\"styleData.qf_footer\" label=\"footer-bottom-center-down\">{{ $t('message.under') }}</el-radio>\n\n                            <el-form-item v-if=\"styleData.qf_footer == 'footer-bottom-center-up'\">\n                                <el-tag\n                                    :key=\"index\"\n                                    v-for=\"(tag, index) in dynamicTagsUp\"\n                                    closable\n                                    :disable-transitions=\"false\"\n                                    @close=\"handleCloseMY(tag, dynamicTagsUp, footDatas.topArea, 'text')\"\n                                >\n                                    {{ tag }}\n                                </el-tag>\n                                <el-input\n                                    class=\"input-new-tag\"\n                                    v-if=\"inputVisible\"\n                                    v-model=\"inputValue\"\n                                    ref=\"saveTagInput\"\n                                    size=\"small\"\n                                    @blur=\"handleInputConfirm\"\n                                >\n                                </el-input>\n                                <el-button class=\"button-new-tag\" size=\"small\" @click=\"showInputUp\">{{ $t('message.topMsg') }}</el-button>\n                            </el-form-item>\n\n                            <el-form-item v-else-if=\"styleData.qf_footer == 'footer-bottom-center-down'\">\n                                <el-tag\n                                    :key=\"index\"\n                                    v-for=\"(tag, index) in dynamicTagsDown\"\n                                    closable\n                                    :disable-transitions=\"false\"\n                                    @close=\"handleCloseMY(tag, dynamicTagsDown, footDatas.underArea, 'text')\"\n                                >\n                                    {{ tag }}\n                                </el-tag>\n                                <el-input\n                                    class=\"input-new-tag\"\n                                    v-if=\"inputVisible\"\n                                    v-model=\"inputValue\"\n                                    ref=\"saveTagInput\"\n                                    size=\"small\"\n                                    @blur=\"handleInputConfirm\"\n                                >\n                                </el-input>\n                                <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInputDown\">{{\n                                    $t('message.botMsg')\n                                }}</el-button>\n                            </el-form-item>\n                        </el-form-item>\n                        <el-form-item :label=\"$t('message.arguments')\" prop=\"settingData\">\n                            <el-input v-model=\"form.settingData\" :placeholder=\"$t('message.beizhuMsg')\" size=\"small\" type=\"textarea\" />\n                        </el-form-item>\n                        <el-dialog :title=\"$t('message.footertop')\" :visible.sync=\"dialogFormVisibleUp\" :append-to-body=\"true\" width=\"50%\">\n                            <el-form\n                                :model=\"formNewDataFooter\"\n                                label-position=\"left\"\n                                label-width=\"132px\"\n                                :rules=\"rulesDialogFoot\"\n                                ref=\"ruleFormFootUp\"\n                            >\n                                <el-form-item :label=\"$t('message.textDes')\" required prop=\"text\">\n                                    <el-input v-model=\"formNewDataFooter.text\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item :label=\"$t('message.imgurl')\" prop=\"img\">\n                                    <el-input v-model=\"formNewDataFooter.img\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item :label=\"$t('message.WayToUrl')\" required prop=\"href\">\n                                    <el-input v-model=\"formNewDataFooter.href\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item>\n                                    <el-button @click=\"dialogFormVisibleUp = false\">{{ $t('message.cancel') }}</el-button>\n                                    <el-button @click=\"resetForm('ruleFormFootUp')\" type=\"warning\">{{ $t('message.reset') }}</el-button>\n                                    <el-button\n                                        type=\"primary\"\n                                        @click=\"submitForm('ruleFormFootUp', footDatas.topArea, formNewDataFooter, 'text', dynamicTagsUp)\"\n                                        >{{ $t('message.ok') }}</el-button\n                                    >\n                                </el-form-item>\n                            </el-form>\n                        </el-dialog>\n\n                        <el-dialog\n                            :title=\"$t('message.footerbottom')\"\n                            :visible.sync=\"dialogFormVisibleDown\"\n                            :append-to-body=\"true\"\n                            width=\"50%\"\n                        >\n                            <el-form\n                                :model=\"formNewDataFooter\"\n                                label-position=\"left\"\n                                label-width=\"135px\"\n                                :rules=\"rulesDialogFoot\"\n                                ref=\"ruleFormFootDown\"\n                            >\n                                <el-form-item :label=\"$t('message.textDes')\" required prop=\"text\">\n                                    <el-input v-model=\"formNewDataFooter.text\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item :label=\"$t('message.imgurl')\" prop=\"img\">\n                                    <el-input v-model=\"formNewDataFooter.img\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item :label=\"$t('message.WayToUrl')\" required prop=\"href\">\n                                    <el-input v-model=\"formNewDataFooter.href\" autocomplete=\"off\"></el-input>\n                                </el-form-item>\n                                <el-form-item>\n                                    <el-button @click=\"dialogFormVisibleDown = false\">{{ $t('message.cancel') }}</el-button>\n                                    <el-button @click=\"resetForm('ruleFormFootDown')\" type=\"warning\">{{ $t('message.reset') }}</el-button>\n                                    <el-button\n                                        type=\"primary\"\n                                        @click=\"\n                                            submitForm('ruleFormFootDown', footDatas.underArea, formNewDataFooter, 'text', dynamicTagsDown)\n                                        \"\n                                        >{{ $t('message.ok') }}</el-button\n                                    >\n                                </el-form-item>\n                            </el-form>\n                        </el-dialog>\n                    </el-form>\n                </div>\n                <div slot=\"footer\" class=\"dialog-footer\">\n                    <el-button type=\"success\" @click=\"saveForm\">{{ $t('message.save') }}</el-button>\n                    <el-button type=\"primary\" @click.stop=\"submitFormAll\">{{ $t('message.ok') }}</el-button>\n                    <el-button type=\"warning\" @click=\"cancelFormData('form')\">{{ $t('message.reset') }}</el-button>\n                    <p class=\"login-tips\">\n                        {{ $t('message.tips') }}\n                    </p>\n                </div>\n            </div>\n        </div> -->\n    </div>\n</template>\n<script>\nimport '@/assets/icon/iconfont.css';\nexport default {\n    components: { },\n    data() {\n        return {\n            //默认自动打开\n            // loopvalue: true,\n\n            //footerdata\n            formNewData: {\n                WayName: '',\n                WayImgUrl: '',\n                WayToUrl: ''\n            },\n            formNewDataFooter: {\n                text: '',\n                img: '',\n                href: ''\n            },\n            //对话框\n            dialogFormVisible: false,\n            dialogFormVisibleUp: false,\n            dialogFormVisibleDown: false,\n            //---------edit\n            dynamicTags: [],\n            dynamicTagsUp: [],\n            dynamicTagsDown: [],\n            // 展示的内容\n            dynamicTagsImg: [],\n\n            inputVisibleImg: false,\n            inputValueImg: '',\n\n            inputVisible: false,\n            // inputValue: '',\n            //----------\n            isshow: false,\n            // 100%宽度\n            fullWidth: 0,\n            // 70%宽度\n            changeWidth: 34,\n            // 全部setting信息\n            allData: {},\n            // 保存版本号信息\n            QFversionData: 4.3,\n            //--------------setting--start\n            userData: {},\n            useQingFlowVersion: [4.1, 4.2, 4.3, 4.4, 4.5, 4.6],\n            // ssoHideData: {},\n            styleData: {\n                // qf_logo: 'qf-logo_left',\n                // qf_login: 'ms-login_right',\n                // qf_footer: 'footer-bottom-center',\n                // background_path: '../../assets/img/login-bg.jpg',\n                // login_url: 'https://accounts.qingflow.com/api/user/login'\n            },\n            footDatas: {},\n            loginWaysData: [],\n            //----------------------setting--end\n            logo_path: '',\n            icon_path: '',\n            open: false,\n            param: {\n                username: '',\n                password: ''\n            },\n            rules: {\n                username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\n                password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\n            },\n            rulesDialog: {\n                WayName: [\n                    {\n                        required: true,\n                        message: '请输入登录方式名称（例如：微信；企业微信）',\n                        trigger: 'blur'\n                    }\n                ],\n                WayImgUrl: [\n                    { required: true, message: '请输入图片的URL地址', trigger: 'blur' },\n                    {\n                        pattern:\n                            // eslint-disable-next-line no-useless-escape\n                            /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n                        message: '请输入正确的地址',\n                        trigger: 'blur'\n                    }\n                ],\n                WayToUrl: [\n                    {\n                        required: true,\n                        message: '请输入点击图片所跳转到的地址',\n                        trigger: 'blur'\n                    },\n                    {\n                        pattern:\n                            // eslint-disable-next-line no-useless-escape\n                            /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n                        message: '请输入正确的地址',\n                        trigger: 'blur'\n                    }\n                ]\n            },\n            rulesDialogFoot: {\n                text: [{ required: true, message: '请输入相关描述', trigger: 'blur' }],\n                img: [\n                    {\n                        required: false,\n                        message: '请输入图片的URL地址【如果没有就留空】',\n                        trigger: 'blur'\n                    },\n                    {\n                        pattern:\n                            // eslint-disable-next-line no-useless-escape\n                            /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n                        message: '请输入正确的地址'\n                    }\n                ],\n                href: [\n                    {\n                        required: true,\n                        message: '请输入点击文本所跳转到的地址',\n                        trigger: 'blur'\n                    },\n                    {\n                        pattern:\n                            // eslint-disable-next-line no-useless-escape\n                            /((http|ftp|https):\\/\\/)(([a-zA-Z0-9\\._-]+\\.[a-zA-Z]{2,6})|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,4})*(\\/[a-zA-Z0-9\\&%_\\.\\/-~-]*)?/,\n                        message: '请输入正确的地址'\n                    }\n                ]\n            },\n            form: {\n                settingData: ''\n            },\n            title: '',\n            pubKey: '',\n            EMAIL_REGEX:\n                /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n            MOBILENUM_REGEX: /^\\d{4,11}$/,\n            elGroup: '',\n            //显示alert\n            showElAlert: false,\n            showElAlert2: false,\n            showElAlert3: false,\n            // 是否设置完成\n            allRight: false,\n            lang: ''\n        };\n    },\n    methods: {\n        getlangval(value) {\n            // console.log('fffffff', value);\n            this.lang = value;\n        },\n        changeSelect(value) {\n            window.alert(value);\n        },\n        closeRight() {\n            this.isshow = false;\n            this.$emit('closeBox', this.fullWidth);\n        },\n        openRight() {\n            this.isshow = !this.isshow;\n\n            if (this.isshow) {\n                this.$emit('openBox', this.changeWidth);\n            } else {\n                this.$emit('closeBox', this.fullWidth);\n            }\n        },\n        setboxDemo() {\n            this.isshow = true;\n            this.$emit('openBox', this.changeWidth);\n        },\n        // 获取数据\n        getData() {\n            // **注意**\n            // vue.config.js中修改publiPath的时候需要，修改这里'/qf-login/table.json'\n            // this.$axios.get('./table.json').then((res) => {\n            this.$axios.get('./table.json').then((res) => {\n                console.log(res, 'fff');\n                this.styleData = res.data.data.styleData;\n                this.footerData = res.data.data.footerData;\n                this.loginWaysData = res.data.data.loginWays;\n                this.userData = res.data.data.userData;\n\n                document.title = 'Login｜' + this.userData.username;\n                this.footDatas = res.data.data.footData;\n                this.dynamicTagsImg = res.data.data.backgroundImg;\n                this.logo_path = res.data.data.logo_path;\n                this.icon_path = res.data.data.icon_path;\n                //为跳转链接赋随机校验值\n                const loginWays = res.data.data.loginWays;\n                loginWays[0].WayToUrl = loginWays[0].WayToUrl.replace('<nonce>', crypto.randomUUID().replaceAll('-', ''));\n                res.data.data.loginWays = loginWays;\n                this.allData = res.data.data;\n                this.allData = res.data.data;\n                this.elGroup = res.data.data.userData.useQingFlowVersion;\n                this.lang = res.data.data.lang;\n                console.log('lalalal', this.lang);\n                //全部数据\n                this.rulesWayData(this.loginWaysData, this.dynamicTags, 'WayName');\n                this.rulesWayData(this.footDatas.topArea, this.dynamicTagsUp, 'text');\n                this.rulesWayData(this.footDatas.underArea, this.dynamicTagsDown, 'text');\n                this.$emit('pullData', this.allData);\n                this.$emit('sendImgs', this.dynamicTagsImg);\n                this.$emit('logo', this.logo_path);\n                this.$emit('icon', this.icon_path);\n            });\n        },\n        resetForm(formName) {\n            this.$refs[formName].resetFields();\n        },\n\n        // 抽离方法\n        // this.loginWaysData ---dataFrom\n        // this.formNewData ----FormDatas\n        // WayName  ---tags\n        // this.dynamicTags ---diaFromDatas\n        // this.dialogFormVisible ----flag-----#####\n        submitForm(formName, dataFrom, FormDatas, tags, diaFromDatas) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    // console.log(this.formNewData);\n\n                    dataFrom.push(FormDatas);\n                    if (formName == 'ruleForm') {\n                        this.$emit('loginwaycheck', dataFrom);\n                    } else {\n                        this.$emit('footArea', this.footDatas);\n                    }\n                    //添加展示的tag\n                    diaFromDatas.push(FormDatas[tags]);\n\n                    //判断\n                    if (formName == 'ruleForm') {\n                        this.dialogFormVisible = false;\n                        // return false;\n                    } else if (formName == 'ruleFormFootUp') {\n                        this.dialogFormVisibleUp = false;\n                        // return false;\n                    } else if (formName == 'ruleFormFootDown') {\n                        this.dialogFormVisibleDown = false;\n                        // return false;\n                    }\n                } else {\n                    return false;\n                }\n            });\n        },\n        //组织初始化数据\n        //dataFrom ---this.loginWaysData\n        //dataTo --- this.dynamicTags\n        rulesWayData(dataFrom, dataTo, tagName) {\n            dataFrom.forEach((item) => {\n                dataTo.push(item[tagName]);\n            });\n        },\n        saveForm() {\n            var data = {\n                data: {\n                    lang: this.lang,\n                    logo_path: this.logo_path,\n                    icon_path: this.icon_path,\n                    userData: {\n                        username: this.userData.username,\n                        useQingFlowVersion: this.userData.useQingFlowVersion\n                    },\n                    styleData: {\n                        qf_logo: this.styleData.qf_logo,\n                        qf_login: this.styleData.qf_login,\n                        qf_footer: this.styleData.qf_footer,\n                        login_type: this.styleData.login_type,\n                        login_tips: this.styleData.login_tips,\n                        login_footer: this.styleData.login_footer,\n                        homeUrl: this.styleData.homeUrl,\n                        qf_homeStyle: this.styleData.qf_homeStyle,\n                        qf_swiper_way: this.styleData.qf_swiper_way,\n                        qf_loopvalue: this.styleData.qf_loopvalue,\n                        qf_swiper_pages: this.styleData.qf_swiper_pages,\n                        // -----------\n                        qflowType: this.styleData.qflowType,\n                        qflowDomain: this.styleData.qflowDomain,\n                        settingHide: '2'\n                    },\n                    backgroundImg: this.dynamicTagsImg,\n                    loginWays: this.loginWaysData,\n                    footData: this.footDatas\n                }\n                // logo_path: this.logo_path,\n                // background_path: this.background_path\n            };\n            this.form.settingData = JSON.stringify(data);\n        },\n        // handleAdd() {\n        //     this.open = true;\n        //     this.title = '自定义登录页配置';\n        // },\n        cancel() {\n            this.open = false;\n        },\n        getCheckRadio: function (value) {\n            this.QFversionData = value;\n        },\n        //进行handleCloseMY函数的封装\n        // dataFrom  -----this.dynamicTags //数据源\n        // toFrom ----this.loginWaysData\n        handleCloseMY(tag, dataFrom, toFrom, tagName) {\n            dataFrom.splice(dataFrom.indexOf(tag), 1);\n            //进行移除操作\n            // this.loginWaysData.splice(this.loginWaysData.indexOf());\n            let deleteIndex = 0;\n            for (let index = 0; index < toFrom.length; index++) {\n                const element = toFrom[index];\n                if (element[tagName] == tag) {\n                    deleteIndex = index;\n                }\n            }\n            toFrom.splice(deleteIndex, 1);\n        },\n        showInput() {\n            //改变为dialog\n            if (this.loginWaysData.length >= 5) {\n                this.showElAlert = true;\n                setTimeout(() => {\n                    this.showElAlert = false;\n                }, 5000);\n            } else {\n                this.dialogFormVisible = true;\n                // this.$refs[formName].resetFields();\n                this.formNewData = {};\n            }\n        },\n        showInputUp() {\n            if (this.footDatas.topArea.length >= 5) {\n                this.showElAlert2 = true;\n                setTimeout(() => {\n                    this.showElAlert2 = false;\n                }, 5000);\n            } else {\n                this.dialogFormVisibleUp = true;\n                // this.$refs[formName].resetFields();\n                this.formNewDataFooter = {};\n            }\n        },\n        showInputDown() {\n            if (this.footDatas.underArea.length >= 5) {\n                this.showElAlert2 = true;\n                setTimeout(() => {\n                    this.showElAlert2 = false;\n                }, 5000);\n            } else {\n                this.dialogFormVisibleDown = true;\n                // this.$refs[formName].resetFields();\n                this.formNewDataFooter = {};\n            }\n        },\n        submitFormAll() {\n            this.allRight = true;\n            this.$emit('allright', this.allRight);\n            this.closeRight();\n        },\n        cancelFormData(formName) {\n            this.allRight = false;\n            this.$emit('allright', this.allRight);\n            this.$refs[formName].resetFields();\n        },\n\n        //background img\n        handleCloseImg(tag) {\n            this.dynamicTagsImg.splice(this.dynamicTagsImg.indexOf(tag), 1);\n        },\n\n        showInputImg() {\n            if (this.dynamicTagsImg.length >= 5) {\n                this.showElAlert3 = true;\n                setTimeout(() => {\n                    this.showElAlert3 = false;\n                }, 5000);\n            } else {\n                this.inputVisibleImg = true;\n                this.$nextTick(() => {\n                    this.$refs.saveTagInputImg.$refs.input.focus();\n                });\n            }\n        },\n\n        handleInputConfirmImg() {\n            let inputValueImg = this.inputValueImg;\n            if (inputValueImg) {\n                this.dynamicTagsImg.push(inputValueImg);\n            }\n            this.inputVisibleImg = false;\n            let innerObj = {\n                flag: this.inputVisibleImg\n            };\n            this.$emit('theNewImg', innerObj);\n            this.inputValueImg = '';\n        },\n        getInputText(value) {\n            console.log(value);\n            // alert('dasf');\n            this.$emit('logo', this.logo_path);\n        },\n        getInputTexticon() {\n            this.$emit('icon', this.icon_path);\n        }\n    },\n\n    created() {\n        this.getData();\n        // 将图片数据传递到父组件\n    }\n};\n</script>\n<style scoped>\n@import './index.scss';\n</style>\n"]},"metadata":{},"sourceType":"module"}