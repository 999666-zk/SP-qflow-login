{"ast":null,"code":"import _regeneratorRuntime from \"/Users/april/Desktop/git-lab/\\u65B0\\u52A0\\u5761/qflow-login/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/april/Desktop/git-lab/\\u65B0\\u52A0\\u5761/qflow-login/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport { getNoticeApi } from '@/api/https.js';\nexport default {\n  components: {},\n  name: 'HeadTop',\n  data: function data() {\n    return {\n      datas: [{\n        message: 'The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.'\n      }, {\n        message: 'The portal will not be accessible during this period. We apologise for any inconvenience caused.'\n      }],\n      htmls: \"<p>The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p><p>The portal will not be accessible during this period. We apologise for any inconvenience caused.The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p>\",\n      spHtmls: '<p>The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p><p>The portal will not be accessible during this period. We apologise for any inconvenience caused.The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p>',\n      drawer: false,\n      direction: 'ttb'\n    };\n  },\n  computed: {},\n  methods: {\n    // richTextSplit\n    richTextSplit: function richTextSplit(richText) {\n      var regex = /<\\/p>/g;\n      var match;\n      var matchCount = 0;\n\n      while ((match = regex.exec(richText)) !== null) {\n        matchCount++;\n\n        if (matchCount === 2) {\n          var index = match.index;\n          return index;\n        }\n      }\n    },\n    closeAlert: function closeAlert() {\n      this.$refs.alert.remove();\n      var bgdom = this.$refs['top_box'];\n      bgdom.style.transition = 'all 0.3s';\n      bgdom.style.background = '#f9fafc';\n      bgdom.style.height = '68px';\n    },\n    getNotice: function getNotice() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getNoticeApi().then(function (res) {\n                  if (res.data.code === 0) {\n                    var loginNotes = res.data.result.loginNotes;\n                    _this.htmls = loginNotes;\n                    _this.spHtmls = loginNotes.slice(0, _this.richTextSplit(loginNotes) + 4) + '<p>...</p>';\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    showDownDivs: function showDownDivs() {\n      var dom = this.$refs['top_box'];\n      var innerTextbox = this.$refs['spinnerText'];\n\n      if (!this.drawer) {\n        dom.style.transition = 'all 0.3s';\n        dom.style.height = '80vh';\n        innerTextbox.style.overflow = 'scroll';\n        innerTextbox.style.innerHTMl = this.htmls;\n        this.drawer = true;\n      } else {\n        dom.style.transition = 'all 0.3s';\n        dom.style.height = '68px';\n        this.drawer = false;\n      }\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var doms;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this2.getNotice();\n\n            case 2:\n              doms = document.getElementsByClassName('btn-close btn-sm')[0];\n              doms.addEventListener('click', function () {\n                var dom = _this2.$refs['top_box'];\n                dom.style.height = '68px';\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;;AA+DA;AACA;EACAA,cADA;EAEAC,eAFA;EAGAC,IAHA,kBAGA;IACA;MACAC,QACA;QAAAC;MAAA,CADA,EAEA;QAAAA;MAAA,CAFA,CADA;MAKAC,6RALA;MAMAC,SACA,sRAPA;MAQAC,aARA;MASAC;IATA;EAWA,CAfA;EAgBAC,YAhBA;EAiBAC;IACA;IACAC,aAFA,yBAEAC,QAFA,EAEA;MACA;MACA;MACA;;MAEA;QACAC;;QACA;UACA;UACA;QACA;MACA;IACA,CAdA;IAeAC,UAfA,wBAeA;MACA;MACA;MACAC;MACAA;MACAA;IACA,CArBA;IAsBAC,SAtBA,uBAsBA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;kBACA;oBACA;oBACA;oBACA;kBACA;gBACA,CANA,CADA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA,CA9BA;IAgCAC,YAhCA,0BAgCA;MACA;MACA;;MACA;QACAC;QACAA;QACAC;QACAA;QACA;MACA,CANA,MAMA;QACAD;QACAA;QACA;MACA;IACA;EA9CA,CAjBA;EAiEAE,OAjEA,qBAiEA,EAjEA;EAkEAC,OAlEA,qBAkEA;IAAA;;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACA,kBADA;;YAAA;cAEAC,IAFA,GAEAC,sDAFA;cAGAD;gBACA;gBACAJ;cACA,CAHA;;YAHA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAOA;AAzEA","names":["components","name","data","datas","message","htmls","spHtmls","drawer","direction","computed","methods","richTextSplit","richText","matchCount","closeAlert","bgdom","getNotice","getNoticeApi","showDownDivs","dom","innerTextbox","created","mounted","doms","document"],"sourceRoot":"src/components/HeadTop","sources":["HeadTop.vue"],"sourcesContent":["<template>\n    <div style=\"position: relative; z-index: 999; width: 100%; transition: all 0.3s; background: #f8f9fb\">\n        <div class=\"tops\" ref=\"top_box\">\n            <div class=\"center\">\n                <div class=\"right\">\n                    <div ref=\"alert\" role=\"alert\" class=\"fade d-flex align-items-center alert alert-primary alert-dismissible show sgds\">\n                        <button @click=\"closeAlert\" type=\"button\" class=\"btn-close btn-sm\" aria-label=\"Close alert\"></button>\n                        <div><i class=\"el-icon-warning\" id=\"warning-icon\"></i></div>\n                        <div class=\"notice\" @click=\"showDownDivs\">NOTICE</div>\n                        <span class=\"notice\" @click=\"showDownDivs\">\n                            <transition>\n                                <template v-if=\"drawer\">\n                                    <svg\n                                        t=\"1692843126191\"\n                                        class=\"icon\"\n                                        viewBox=\"0 0 1024 1024\"\n                                        version=\"1.1\"\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        p-id=\"1569\"\n                                        width=\"20\"\n                                        height=\"20\"\n                                    >\n                                        <path\n                                            d=\"M793.024 710.272a32 32 0 1 0 45.952-44.544l-310.304-320a32 32 0 0 0-46.4 0.48l-297.696 320a32 32 0 0 0 46.848 43.584l274.752-295.328 286.848 295.808z\"\n                                            fill=\"#ed8e3e\"\n                                            p-id=\"1570\"\n                                        ></path>\n                                    </svg>\n                                </template>\n                                <template v-else>\n                                    <svg\n                                        t=\"1692843165150\"\n                                        class=\"icon\"\n                                        viewBox=\"0 0 1024 1024\"\n                                        version=\"1.1\"\n                                        xmlns=\"http://www.w3.org/2000/svg\"\n                                        p-id=\"2570\"\n                                        width=\"20\"\n                                        height=\"20\"\n                                    >\n                                        <path\n                                            d=\"M830.24 340.688l11.328 11.312a16 16 0 0 1 0 22.624L530.448 685.76a16 16 0 0 1-22.64 0L196.688 374.624a16 16 0 0 1 0-22.624l11.312-11.312a16 16 0 0 1 22.624 0l288.496 288.496 288.512-288.496a16 16 0 0 1 22.624 0z\"\n                                            fill=\"#ed8e3e\"\n                                            p-id=\"2571\"\n                                        ></path>\n                                    </svg>\n                                </template>\n                            </transition>\n                        </span>\n                        <div class=\"middle\">\n                            <div></div>\n                        </div>\n                        <div ref=\"scroll-box\" class=\"scroll-box\">\n                            <div class=\"spinnerText\" ref=\"spinnerText\" v-html=\"drawer ? htmls : spHtmls\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { getNoticeApi } from '@/api/https.js';\nexport default {\n    components: {},\n    name: 'HeadTop',\n    data() {\n        return {\n            datas: [\n                { message: 'The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.' },\n                { message: 'The portal will not be accessible during this period. We apologise for any inconvenience caused.' }\n            ],\n            htmls: `<p>The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p><p>The portal will not be accessible during this period. We apologise for any inconvenience caused.The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p>`,\n            spHtmls:\n                '<p>The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p><p>The portal will not be accessible during this period. We apologise for any inconvenience caused.The Gateway application portal will be undergoing maintenance on Sun, 7 May 12-8am.</p>',\n            drawer: false,\n            direction: 'ttb'\n        };\n    },\n    computed: {},\n    methods: {\n        // richTextSplit\n        richTextSplit(richText) {\n            const regex = /<\\/p>/g;\n            let match;\n            let matchCount = 0;\n\n            while ((match = regex.exec(richText)) !== null) {\n                matchCount++;\n                if (matchCount === 2) {\n                    const index = match.index;\n                    return index;\n                }\n            }\n        },\n        closeAlert() {\n            this.$refs.alert.remove();\n            let bgdom = this.$refs['top_box'];\n            bgdom.style.transition = 'all 0.3s';\n            bgdom.style.background = '#f9fafc';\n            bgdom.style.height = '68px';\n        },\n        async getNotice() {\n            await getNoticeApi().then((res) => {\n                if (res.data.code === 0) {\n                    const { loginNotes } = res.data.result;\n                    this.htmls = loginNotes;\n                    this.spHtmls = loginNotes.slice(0, this.richTextSplit(loginNotes) + 4) + '<p>...</p>';\n                }\n            });\n        },\n\n        showDownDivs() {\n            let dom = this.$refs['top_box'];\n            let innerTextbox = this.$refs['spinnerText'];\n            if (!this.drawer) {\n                dom.style.transition = 'all 0.3s';\n                dom.style.height = '80vh';\n                innerTextbox.style.overflow = 'scroll';\n                innerTextbox.style.innerHTMl = this.htmls;\n                this.drawer = true;\n            } else {\n                dom.style.transition = 'all 0.3s';\n                dom.style.height = '68px';\n                this.drawer = false;\n            }\n        }\n    },\n    created() {},\n    async mounted() {\n        await this.getNotice();\n        let doms = document.getElementsByClassName('btn-close btn-sm')[0];\n        doms.addEventListener('click', () => {\n            let dom = this.$refs['top_box'];\n            dom.style.height = '68px';\n        });\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n.spinnerText {\n    padding: 10px 0px 40px 0px;\n    width: max-content;\n    max-width: 860px;\n    min-width: 860px;\n    /* height: max-content !important; */\n    height: 80vh;\n    max-height: 800px !important;\n    cursor: pointer;\n    padding-bottom: 20px;\n    ::v-deep p {\n        margin-top: 0px !important;\n        color: #db3f29 !important;\n        font-weight: 900 !important;\n    }\n}\n.scroll-box {\n    height: 100%;\n}\n\n::v-deep .el-drawer__wrapper {\n    margin-top: 95px !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}