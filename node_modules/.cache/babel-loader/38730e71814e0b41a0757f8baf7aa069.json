{"ast":null,"code":"import _objectSpread from \"/Users/april/Desktop/git-lab/\\u65B0\\u52A0\\u5761/qflow-login/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/april/Desktop/git-lab/\\u65B0\\u52A0\\u5761/qflow-login/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/april/Desktop/git-lab/\\u65B0\\u52A0\\u5761/qflow-login/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport JSEncrypt from 'jsencrypt';\nimport { submitFormsApi, checkAuthenticationApi } from '@/api/https.js';\nimport '@/assets/css/index.css';\nexport default {\n  filters: {\n    capitalize: function capitalize(value) {\n      return value + this.$t('message.login');\n    }\n  },\n  props: {\n    allObj: Object,\n    logo_path: String,\n    styleData: Object,\n    userIds: Number,\n    sendData: Object\n  },\n  components: {},\n  data: function data() {\n    return {\n      // 控制显隐\n      isShow: true,\n      // 计时器\n      timer: null,\n      timer2: null,\n      timer3: null,\n      ruleFormData: {\n        username: '',\n        password: ''\n      },\n      EMAIL_REGEX: /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n      MOBILENUM_REGEX: /^\\d{4,11}$/,\n      EMAILS: '',\n      userid: '',\n      loading: true,\n      QRCodeUrl: '',\n      CodeFormData: {\n        code: ''\n      },\n      userIdsq: '',\n      exToken: '',\n      resultUri: ''\n    };\n  },\n  computed: {\n    rules: function rules() {\n      return {\n        username: [{\n          pattern: /^\\d{4,11}$/,\n          message: this.$t('message.msgIphone'),\n          trigger: 'blur'\n        }],\n        userEmail: [{\n          pattern: /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n          message: this.$t('message.msgEmail'),\n          trigger: 'blur'\n        }],\n        otheruser: [{\n          required: true,\n          message: this.$t('message.msgOther'),\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: this.$t('message.msgpassword'),\n          trigger: 'blur'\n        }]\n      };\n    },\n    rulesCode: function rulesCode() {\n      return {\n        code: [{\n          pattern: /^\\d{6}$/,\n          message: this.$t('message.spCodemsg'),\n          trigger: 'blur'\n        }]\n      };\n    }\n  },\n  methods: {\n    nextPage: function nextPage() {\n      this.isShow = false;\n    },\n    // 重置表单\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    //验证token的第一次登录\n    submitFormToken: function submitFormToken(formName) {\n      var _this = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          if (_this.allObj.userData.useQingFlowVersion <= 4.5) {\n            _this.loginBefore();\n          } else {\n            _this.loginAfter();\n          }\n        }\n      });\n    },\n    // 验证code\n    submitCode: function submitCode(formName) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.$refs[formName].validate( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(valid) {\n                    var code, params;\n                    return _regeneratorRuntime().wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            if (!valid) {\n                              _context.next = 6;\n                              break;\n                            }\n\n                            code = _this2.CodeFormData.code;\n                            params = {\n                              userId: _this2.sendData.formData.nric,\n                              checkCode: code\n                            };\n                            console.log(params);\n                            _context.next = 6;\n                            return _this2.checkAuthentication(params);\n\n                          case 6:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    // 判定方式\n    checkAuthentication: function checkAuthentication(params) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return checkAuthenticationApi(JSON.stringify(params)).then( /*#__PURE__*/function () {\n                  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(res) {\n                    var code;\n                    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            code = res.data.code;\n\n                            if (!(code === 0)) {\n                              _context3.next = 5;\n                              break;\n                            }\n\n                            // checkcode 判定成功\n                            _this3.$notify.success({\n                              title: 'success',\n                              message: \"2FA verification succeeded\",\n                              duration: 0,\n                              position: 'bottom-left',\n                              showClose: true\n                            }); // 重新提交表单\n\n\n                            _context3.next = 5;\n                            return _this3.submitForms();\n\n                          case 5:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3);\n                  }));\n\n                  return function (_x2) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }(), function (err) {\n                  var _err$response$data = err.response.data,\n                      code = _err$response$data.code,\n                      message = _err$response$data.message;\n\n                  _this3.$notify.error({\n                    title: 'error',\n                    message: \"Message:\".concat(message, \";errorCode:\").concat(code),\n                    duration: 0,\n                    position: 'bottom-left',\n                    showClose: true\n                  });\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    // 重新提交表单\n    submitForms: function submitForms() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return submitFormsApi(JSON.stringify(_objectSpread(_objectSpread({}, _this4.sendData.formData), {}, {\n                  checkCode: _this4.CodeFormData.code\n                }))).then( /*#__PURE__*/function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(res) {\n                    var code;\n                    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            code = res.data.code;\n\n                            if (!(code === 0)) {\n                              _context5.next = 5;\n                              break;\n                            }\n\n                            _context5.next = 4;\n                            return sessionStorage.clear();\n\n                          case 4:\n                            // 注册成功\n                            _this4.$router.push('/registrationsuccess');\n\n                          case 5:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n\n                  return function (_x3) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }(), function (err) {\n                  var _err$response$data2 = err.response.data,\n                      code = _err$response$data2.code,\n                      message = _err$response$data2.message;\n\n                  if (code === 40103) {\n                    _this4.$notify.error({\n                      title: 'error',\n                      dangerouslyUseHTMLString: true,\n                      message: \" <div style=\\\"padding: 10px 6px;\\\">\\n                                                <div><strong>Message:</strong> The phone number is already registered</div>\\n                                                <div><strong>errorCode:</strong> \".concat(code, \"</div>\\n                                               </div>\"),\n                      duration: 0,\n                      position: 'bottom-left',\n                      showClose: true\n                    });\n                  } else {\n                    _this4.$notify.error({\n                      title: 'error',\n                      message: \"Message:\".concat(message, \";errorCode:\").concat(code),\n                      duration: 0,\n                      position: 'bottom-left',\n                      showClose: true\n                    });\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }))();\n    },\n    backQrCode: function backQrCode() {\n      this.isShow = true;\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["filters","capitalize","props","allObj","logo_path","styleData","userIds","sendData","components","data","isShow","timer","timer2","timer3","ruleFormData","username","password","EMAIL_REGEX","MOBILENUM_REGEX","EMAILS","userid","loading","QRCodeUrl","CodeFormData","code","userIdsq","exToken","resultUri","computed","rules","pattern","message","trigger","userEmail","otheruser","required","rulesCode","methods","nextPage","resetForm","formName","submitFormToken","submitCode","valid","params","userId","checkCode","console","checkAuthentication","checkAuthenticationApi","res","title","duration","position","showClose","submitForms","submitFormsApi","sessionStorage","dangerouslyUseHTMLString","backQrCode"],"sourceRoot":"src/views/Register","sources":["LoginNew.vue"],"sourcesContent":["<template>\n    <!-- ===== -->\n    <div class=\"login-box\">\n        <div class=\"login-box-top-area\">\n            <div class=\"login-title\">\n                <span>Scholarship Management Gateway System</span>\n            </div>\n            <div class=\"login-top-text\">\n                <span>Registering</span>\n            </div>\n        </div>\n        <transition name=\"slide-fade\">\n            <template v-if=\"isShow\">\n                <!-- <template v-if=\"false\"> -->\n                <div style=\"display: flex; justify-content: center; flex-direction: column; align-items: center\">\n                    <div>\n                        <img :src=\"sendData.qrCode\" alt=\"\" width=\"240\" />\n                    </div>\n                    <div>\n                        <p class=\"tips\">\n                            Please use\n                            <a\n                                href=\"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en&pli=1\"\n                                target=\"_blank\"\n                                >Google Authenticator App</a\n                            >\n                            or\n                            <a href=\"https://play.google.com/store/apps/details?id=com.azure.authenticator&hl=en_US\" target=\"_blank\">\n                                Microsoft Authenticator App</a\n                            >Scan QR code\n                        </p>\n                    </div>\n                    <div class=\"stepbtn\">\n                        <el-button type=\"primary\" class=\"registeringbtn\" @click=\"nextPage\">Next</el-button>\n                    </div>\n                </div>\n            </template>\n            <template v-else>\n                <div>\n                    <el-form ref=\"ruleFormCode\" :rules=\"rulesCode\" :model=\"CodeFormData\">\n                        <div style=\"margin-bottom: -20px\">\n                            <span style=\"font-weight: 600; font-size: 16px\">2FA Code</span>\n                        </div>\n                        <el-form-item class=\"form-items\" prop=\"code\" style=\"margin-top: 40px\">\n                            <el-input\n                                v-model=\"CodeFormData.code\"\n                                :placeholder=\"$t('message.spCodemsg')\"\n                                clearable\n                                @keyup.enter.native=\"submitCode('ruleFormCode')\"\n                            >\n                            </el-input>\n                        </el-form-item>\n                        <div style=\"margin-top: 20px; margin-bottom: 10px\">\n                            <span style=\"color: grey; line-height: 24px\">{{ $t('message.codeDes') }}</span>\n                        </div>\n                        <el-form-item class=\"form-items\">\n                            <div class=\"box-form-out\">\n                                <div class=\"box-form-out-in-box\">\n                                    <div class=\"box-form-out-inner\">\n                                        <el-button class=\"spbtn backbtn\" @click=\"backQrCode\">Back</el-button>\n                                        <el-button type=\"primary\" class=\"spbtn registeringbtn\" @click=\"submitCode('ruleFormCode')\"\n                                            ><span>{{ $t('message.ok') }}</span></el-button\n                                        >\n                                    </div>\n                                </div>\n                            </div>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </template>\n        </transition>\n    </div>\n</template>\n\n<script>\nimport JSEncrypt from 'jsencrypt';\nimport { submitFormsApi, checkAuthenticationApi } from '@/api/https.js';\nimport '@/assets/css/index.css';\nexport default {\n    filters: {\n        capitalize: function (value) {\n            return value + this.$t('message.login');\n        }\n    },\n    props: {\n        allObj: Object,\n        logo_path: String,\n        styleData: Object,\n        userIds: Number,\n        sendData: Object\n    },\n    components: {},\n    data() {\n        return {\n            // 控制显隐\n            isShow: true,\n\n            // 计时器\n            timer: null,\n            timer2: null,\n            timer3: null,\n            ruleFormData: {\n                username: '',\n                password: ''\n            },\n\n            EMAIL_REGEX:\n                /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n            MOBILENUM_REGEX: /^\\d{4,11}$/,\n            EMAILS: '',\n            userid: '',\n            loading: true,\n\n            QRCodeUrl: '',\n            CodeFormData: {\n                code: ''\n            },\n            userIdsq: '',\n            exToken: '',\n            resultUri: ''\n        };\n    },\n    computed: {\n        rules() {\n            return {\n                username: [\n                    {\n                        pattern: /^\\d{4,11}$/,\n                        message: this.$t('message.msgIphone'),\n                        trigger: 'blur'\n                    }\n                ],\n                userEmail: [\n                    {\n                        pattern:\n                            /^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n                        message: this.$t('message.msgEmail'),\n                        trigger: 'blur'\n                    }\n                ],\n                otheruser: [\n                    {\n                        required: true,\n                        message: this.$t('message.msgOther'),\n                        trigger: 'blur'\n                    }\n                ],\n                password: [{ required: true, message: this.$t('message.msgpassword'), trigger: 'blur' }]\n            };\n        },\n        rulesCode() {\n            return {\n                code: [\n                    {\n                        pattern: /^\\d{6}$/,\n                        message: this.$t('message.spCodemsg'),\n                        trigger: 'blur'\n                    }\n                ]\n            };\n        }\n    },\n    methods: {\n        nextPage() {\n            this.isShow = false;\n        },\n        // 重置表单\n        resetForm(formName) {\n            this.$refs[formName].resetFields();\n        },\n        //验证token的第一次登录\n        submitFormToken(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    if (this.allObj.userData.useQingFlowVersion <= 4.5) {\n                        this.loginBefore();\n                    } else {\n                        this.loginAfter();\n                    }\n                }\n            });\n        },\n        // 验证code\n        async submitCode(formName) {\n            this.$refs[formName].validate(async (valid) => {\n                if (valid) {\n                    const { code } = this.CodeFormData;\n                    const params = { userId: this.sendData.formData.nric, checkCode: code };\n                    console.log(params);\n                    await this.checkAuthentication(params);\n                }\n            });\n        },\n        // 判定方式\n        async checkAuthentication(params) {\n            await checkAuthenticationApi(JSON.stringify(params)).then(\n                async (res) => {\n                    const { code } = res.data;\n                    if (code === 0) {\n                        // checkcode 判定成功\n                        this.$notify.success({\n                            title: 'success',\n                            message: `2FA verification succeeded`,\n                            duration: 0,\n                            position: 'bottom-left',\n                            showClose: true\n                        });\n                        // 重新提交表单\n                        await this.submitForms();\n                    }\n                },\n                (err) => {\n                    const { code, message } = err.response.data;\n                    this.$notify.error({\n                        title: 'error',\n                        message: `Message:${message};errorCode:${code}`,\n                        duration: 0,\n                        position: 'bottom-left',\n                        showClose: true\n                    });\n                }\n            );\n        },\n\n        // 重新提交表单\n        async submitForms() {\n            await submitFormsApi(JSON.stringify({ ...this.sendData.formData, checkCode: this.CodeFormData.code })).then(\n                async (res) => {\n                    const { code } = res.data;\n                    if (code === 0) {\n                        // 清除session\n                        await sessionStorage.clear();\n                        // 注册成功\n                        this.$router.push('/registrationsuccess');\n                    }\n                },\n                (err) => {\n                    const { code, message } = err.response.data;\n                    if (code === 40103) {\n                        this.$notify.error({\n                            title: 'error',\n                            dangerouslyUseHTMLString: true,\n                            message: ` <div style=\"padding: 10px 6px;\">\n                                                <div><strong>Message:</strong> The phone number is already registered</div>\n                                                <div><strong>errorCode:</strong> ${code}</div>\n                                               </div>`,\n                            duration: 0,\n                            position: 'bottom-left',\n                            showClose: true\n                        });\n                    } else {\n                        this.$notify.error({\n                            title: 'error',\n                            message: `Message:${message};errorCode:${code}`,\n                            duration: 0,\n                            position: 'bottom-left',\n                            showClose: true\n                        });\n                    }\n                }\n            );\n        },\n        backQrCode() {\n            this.isShow = true;\n        }\n    }\n};\n</script>\n<style lang=\"scss\" scoped>\n[v-cloak] {\n    display: none;\n}\n@import '@/assets/scss/PcLoginForm.scss';\n@import '@/assets/scss/MobileLoginForm.scss';\n\n::v-deep .el-input__inner {\n    transition: all 0.3s;\n}\n::v-deep .el-input__inner:hover {\n    border-color: #ffb061;\n    border-right-width: 1px !important;\n    z-index: 1;\n}\n::v-deep .el-input__inner:focus {\n    border-color: #ffb061 !important;\n    box-shadow: 0 0 0 2px #fb933733 !important;\n    border-right-width: 1px !important;\n    outline: 0 !important;\n}\n::v-deep .el-select .el-input__inner:focus {\n    border-color: #ffb061;\n    box-shadow: 0 0 0 2px #fb933733;\n    border-right-width: 1px;\n    outline: 0;\n}\n\n::v-deep .el-select-dropdown__item.hover,\n.el-select-dropdown__item:hover {\n    background-color: #f5f7fa;\n    color: #ffb061;\n}\n\n::v-deep .el-select-dropdown__item.selected {\n    color: #ffb061 !important;\n    font-weight: 700;\n}\n#imgoutbox {\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.login-title {\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 36px;\n    color: #acb3bd;\n    font-family: 'PingFang SC';\n}\n.login-top-text {\n    margin-top: 4px;\n    font-family: 'PingFang SC';\n    color: #121315;\n    font-style: normal;\n    font-weight: 600;\n    font-size: 24px;\n    line-height: 36px;\n}\n.forget-password {\n    height: max-content;\n    line-height: 22px;\n    margin-top: -4px;\n    cursor: pointer;\n    span {\n        color: #fb9337;\n    }\n}\na::after {\n    content: '' !important;\n    width: 0px !important;\n}\n::v-deep .el-button--text {\n    padding-bottom: 16px !important;\n}\n.bottom-text-signup {\n    text-align: center;\n    font-family: 'PingFang SC';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 22px;\n    color: #767e89;\n    span {\n        cursor: pointer;\n        color: #fb9337;\n    }\n}\n::v-deep .el-form-item:nth-child(3) {\n    margin-bottom: 16px;\n}\n.stepbtn {\n    width: 100%;\n    height: max-content;\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 20px;\n}\n/* 可以设置不同的进入和离开动画 */\n/* 设置持续时间和动画函数 */\n.slide-fade-enter-active {\n    transition: all 0.3s ease;\n}\n.slide-fade-leave-active {\n    transition: all 0.8s cubic-bezier(1, 0.5, 0.8, 1);\n}\n.slide-fade-enter, .slide-fade-leave-to\n/* .slide-fade-leave-active for below version 2.1.8 */ {\n    transform: translateX(10px);\n    opacity: 0;\n}\n\n.box-form-out-inner {\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 15px;\n}\n\n.registeringbtn {\n    background: #fb9337;\n    border-color: #fb9337;\n    transition: all 0.3s;\n    &:hover {\n        background: #ffb061;\n        border-color: #ffb061;\n    }\n}\n.tips {\n    line-height: 24px;\n    a {\n        color: #fb9337;\n    }\n}\n.backbtn {\n    transition: all 0.3s;\n    &:hover {\n        background: #fff2e5;\n        border-color: #ffb061;\n        color: #fb9337;\n    }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}