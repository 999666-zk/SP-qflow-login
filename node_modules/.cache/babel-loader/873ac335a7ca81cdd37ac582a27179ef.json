{"ast":null,"code":"import _regeneratorRuntime from \"/Users/april/Desktop/git-lab/\\u65B0\\u52A0\\u5761/qflow-login/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/april/Desktop/git-lab/\\u65B0\\u52A0\\u5761/qflow-login/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport Loading from '@/components/Loading.vue';\nimport Nodata from './nonedata.vue';\nimport { reportShowApi } from '@/api/https.js';\nexport default {\n  components: {\n    Loading: Loading,\n    Nodata: Nodata\n  },\n  data: function data() {\n    return {\n      titles: '',\n      spanColnumEmpty: 0,\n      targetUrl: '',\n      spanColnum: 12,\n      spanColnumsp: 24,\n      userid: '',\n      result: [],\n      showData: [],\n      iconUrl: [{\n        flag: 'PSS',\n        icon: require('@/assets/icon/icon_1.svg')\n      }, {\n        flag: 'PTS',\n        icon: require('@/assets/icon/icon_2.svg')\n      }, {\n        flag: 'PIS',\n        icon: require('@/assets/icon/icon_3.svg')\n      }, {\n        flag: 'PI',\n        icon: require('@/assets/icon/icon_4.svg')\n      }],\n      loading: false\n    };\n  },\n  computed: {},\n  methods: {\n    // 获取请求的数据\n    getAlldatas: function getAlldatas() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_this.userid != null)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return reportShowApi(JSON.stringify({\n                  userId: _this.userid\n                })).then(function (res) {\n                  // console.log(res);\n                  if (res.status == 200) {\n                    if (res.data.code == 0) {\n                      var result = res.data.result;\n                      _this.result = result; //开启开关\n\n                      _this.loading = false;\n\n                      for (var i = 0; i < _this.iconUrl.length; i++) {\n                        for (var j = 0; j < _this.result.length; j++) {\n                          if (_this.iconUrl[i].flag == _this.result[j].flag) {\n                            _this.result[j].iconurl = _this.iconUrl[i].icon;\n                          } else {\n                            _this.result[j].iconurl = _this.iconUrl[0].icon;\n                          }\n                        }\n                      } // 灵魂判断\n\n\n                      if (_this.result.length == 1) {\n                        _this.spanColnum = 8;\n                        _this.spanColnumEmpty = 8;\n                      }\n\n                      if (_this.result.length == 2) {\n                        _this.spanColnumEmpty = 0;\n                        _this.spanColnum = 12;\n                      }\n\n                      if (_this.result.length == 3) {\n                        _this.spanColnumEmpty = 0;\n                        _this.spanColnum = 8;\n                      }\n\n                      if (_this.result.length > 3) {\n                        _this.spanColnumEmpty = 0;\n                        _this.spanColnum = 12;\n                      }\n                    } else {\n                      _this.$notify.error({\n                        title: \"error\".concat(res.data.code),\n                        message: 'Request error, please check your parameters',\n                        duration: 2000,\n                        position: 'top-right',\n                        showClose: true\n                      });\n                    }\n                  }\n                }, function (err) {\n                  _this.$notify.error({\n                    title: \"Error Code \".concat(err.response.status),\n                    message: 'Request error, please check your parameters',\n                    duration: 2000,\n                    position: 'top-right',\n                    showClose: true\n                  });\n                });\n\n              case 3:\n                _context.next = 6;\n                break;\n\n              case 5:\n                _this.$notify.error({\n                  title: 'error',\n                  message: 'Request error, please check your parameters',\n                  duration: 2000,\n                  position: 'top-right',\n                  showClose: true\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              //开启开关\n              _this2.loading = true;\n              _this2.userid = _this2.$route.query.qfExtUserId || null;\n              _context2.next = 4;\n              return _this2.getAlldatas();\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;AA+CA;AACA;AACA;AACA;EACAA;IAAAC;IAAAC;EAAA,CADA;EAEAC,IAFA,kBAEA;IACA;MACAC,UADA;MAEAC,kBAFA;MAGAC,aAHA;MAIAC,cAJA;MAKAC,gBALA;MAMAC,UANA;MAOAC,UAPA;MAQAC,YARA;MASAC,UACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,CATA;MAeAC;IAfA;EAiBA,CApBA;EAqBAC,YArBA;EAsBAC;IACA;IACAC,WAFA,yBAEA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACA,oBADA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAEAC;kBAAAC;gBAAA,SACA;kBACA;kBACA;oBACA;sBACA;sBACA,sBAFA,CAGA;;sBACA;;sBAEA;wBACA;0BACA;4BACA;0BACA,CAFA,MAEA;4BACA;0BACA;wBACA;sBACA,CAdA,CAeA;;;sBACA;wBACA;wBACA;sBACA;;sBACA;wBACA;wBACA;sBACA;;sBACA;wBACA;wBACA;sBACA;;sBACA;wBACA;wBACA;sBACA;oBACA,CAhCA,MAgCA;sBACA;wBACAC,oCADA;wBAEAC,sDAFA;wBAGAC,cAHA;wBAIAC,qBAJA;wBAKAC;sBALA;oBAOA;kBACA;gBACA,CA9CA,EA+CA;kBACA;oBACAJ,gDADA;oBAEAC,sDAFA;oBAGAC,cAHA;oBAIAC,qBAJA;oBAKAC;kBALA;gBAOA,CAvDA,CAFA;;cAAA;gBAAA;gBAAA;;cAAA;gBA4DA;kBACAJ,cADA;kBAEAC,sDAFA;kBAGAC,cAHA;kBAIAC,qBAJA;kBAKAC;gBALA;;cA5DA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAoEA;EAtEA,CAtBA;EA8FAC,OA9FA,qBA8FA,EA9FA;EA+FAC,OA/FA,qBA+FA;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cACA;cAHA;cAAA,OAIA,oBAJA;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAKA;AApGA","names":["components","Loading","Nodata","data","titles","spanColnumEmpty","targetUrl","spanColnum","spanColnumsp","userid","result","showData","iconUrl","flag","icon","loading","computed","methods","getAlldatas","reportShowApi","userId","title","message","duration","position","showClose","created","mounted"],"sourceRoot":"src/views/PortalContent","sources":["Content.vue"],"sourcesContent":["<template>\n    <div class=\"loading\" v-if=\"loading\">\n        <loading></loading>\n    </div>\n    <div v-else>\n        <template v-if=\"result.length == 0\">\n            <Nodata></Nodata>\n        </template>\n        <template v-else>\n            <div class=\"out-bb\">\n                <el-row :gutter=\"24\">\n                    <div>\n                        <!-- 核心 元素 -->\n                        <el-col\n                            class=\"color2\"\n                            :sm=\"spanColnumEmpty\"\n                            :md=\"spanColnumEmpty\"\n                            :lg=\"spanColnumEmpty\"\n                            :xl=\"spanColnumEmpty\"\n                            :xs=\"spanColnumEmpty\"\n                        ></el-col>\n                        <el-col\n                            v-for=\"(item, index) in result\"\n                            :class=\"index % 4 === 0 || index % 4 === 1 ? 'color1' : 'color2'\"\n                            :key=\"item.titles\"\n                            :sm=\"spanColnum\"\n                            :md=\"spanColnum\"\n                            :lg=\"spanColnum\"\n                            :xl=\"spanColnum\"\n                            :xs=\"spanColnumsp\"\n                            ><a :href=\"item.targetUrl\" target=\"_blank\">\n                                <div class=\"grid-content bg-purple\">\n                                    <div class=\"left_box\">\n                                        <div class=\"icon\"><img :src=\"item.iconurl\" width=\"18\" height=\"18\" /></div>\n                                        <div class=\"color1_font\">{{ item.titles }}</div>\n                                    </div>\n                                    <div class=\"right_box\"><img class=\"rows\" src=\"@/assets/icon/rows.svg\" alt=\"\" /></div>\n                                </div> </a\n                        ></el-col>\n                    </div>\n                </el-row>\n            </div>\n        </template>\n    </div>\n</template>\n\n<script>\nimport Loading from '@/components/Loading.vue';\nimport Nodata from './nonedata.vue';\nimport { reportShowApi } from '@/api/https.js';\nexport default {\n    components: { Loading, Nodata },\n    data() {\n        return {\n            titles: '',\n            spanColnumEmpty: 0,\n            targetUrl: '',\n            spanColnum: 12,\n            spanColnumsp: 24,\n            userid: '',\n            result: [],\n            showData: [],\n            iconUrl: [\n                { flag: 'PSS', icon: require('@/assets/icon/icon_1.svg') },\n                { flag: 'PTS', icon: require('@/assets/icon/icon_2.svg') },\n                { flag: 'PIS', icon: require('@/assets/icon/icon_3.svg') },\n                { flag: 'PI', icon: require('@/assets/icon/icon_4.svg') }\n            ],\n            loading: false\n        };\n    },\n    computed: {},\n    methods: {\n        // 获取请求的数据\n        async getAlldatas() {\n            if (this.userid != null) {\n                await reportShowApi(JSON.stringify({ userId: this.userid })).then(\n                    (res) => {\n                        // console.log(res);\n                        if (res.status == 200) {\n                            if (res.data.code == 0) {\n                                const { result } = res.data;\n                                this.result = result;\n                                //开启开关\n                                this.loading = false;\n\n                                for (let i = 0; i < this.iconUrl.length; i++) {\n                                    for (let j = 0; j < this.result.length; j++) {\n                                        if (this.iconUrl[i].flag == this.result[j].flag) {\n                                            this.result[j].iconurl = this.iconUrl[i].icon;\n                                        } else {\n                                            this.result[j].iconurl = this.iconUrl[0].icon;\n                                        }\n                                    }\n                                }\n                                // 灵魂判断\n                                if (this.result.length == 1) {\n                                    this.spanColnum = 8;\n                                    this.spanColnumEmpty = 8;\n                                }\n                                if (this.result.length == 2) {\n                                    this.spanColnumEmpty = 0;\n                                    this.spanColnum = 12;\n                                }\n                                if (this.result.length == 3) {\n                                    this.spanColnumEmpty = 0;\n                                    this.spanColnum = 8;\n                                }\n                                if (this.result.length > 3) {\n                                    this.spanColnumEmpty = 0;\n                                    this.spanColnum = 12;\n                                }\n                            } else {\n                                this.$notify.error({\n                                    title: `error${res.data.code}`,\n                                    message: 'Request error, please check your parameters',\n                                    duration: 2000,\n                                    position: 'top-right',\n                                    showClose: true\n                                });\n                            }\n                        }\n                    },\n                    (err) => {\n                        this.$notify.error({\n                            title: `Error Code ${err.response.status}`,\n                            message: 'Request error, please check your parameters',\n                            duration: 2000,\n                            position: 'top-right',\n                            showClose: true\n                        });\n                    }\n                );\n            } else {\n                this.$notify.error({\n                    title: 'error',\n                    message: 'Request error, please check your parameters',\n                    duration: 2000,\n                    position: 'top-right',\n                    showClose: true\n                });\n            }\n        }\n    },\n    created() {},\n    async mounted() {\n        //开启开关\n        this.loading = true;\n        this.userid = this.$route.query.qfExtUserId || null;\n        await this.getAlldatas();\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n"]},"metadata":{},"sourceType":"module"}