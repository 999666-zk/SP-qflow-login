"use strict";(self["webpackChunkSMGS"]=self["webpackChunkSMGS"]||[]).push([[867],{58595:function(t,e,a){a.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawer"},["1"===t.styleData.settingHide?e("div",{staticClass:"setting"}):t._e()])},i=[],o=(a(74916),a(15306),a(68757),a(57658),a(41539),a(54747),a(38862),a(40561),{components:{},data:function(){return{formNewData:{WayName:"",WayImgUrl:"",WayToUrl:""},formNewDataFooter:{text:"",img:"",href:""},dialogFormVisible:!1,dialogFormVisibleUp:!1,dialogFormVisibleDown:!1,dynamicTags:[],dynamicTagsUp:[],dynamicTagsDown:[],dynamicTagsImg:[],inputVisibleImg:!1,inputValueImg:"",inputVisible:!1,isshow:!1,fullWidth:0,changeWidth:34,allData:{},QFversionData:4.3,userData:{},useQingFlowVersion:[4.1,4.2,4.3,4.4,4.5,4.6],styleData:{},footDatas:{},loginWaysData:[],logo_path:"",icon_path:"",open:!1,param:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},rulesDialog:{WayName:[{required:!0,message:"请输入登录方式名称（例如：微信；企业微信）",trigger:"blur"}],WayImgUrl:[{required:!0,message:"请输入图片的URL地址",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址",trigger:"blur"}],WayToUrl:[{required:!0,message:"请输入点击图片所跳转到的地址",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址",trigger:"blur"}]},rulesDialogFoot:{text:[{required:!0,message:"请输入相关描述",trigger:"blur"}],img:[{required:!1,message:"请输入图片的URL地址【如果没有就留空】",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址"}],href:[{required:!0,message:"请输入点击文本所跳转到的地址",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址"}]},form:{settingData:""},title:"",pubKey:"",EMAIL_REGEX:/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,MOBILENUM_REGEX:/^\d{4,11}$/,elGroup:"",showElAlert:!1,showElAlert2:!1,showElAlert3:!1,allRight:!1,lang:""}},methods:{getlangval:function(t){this.lang=t},changeSelect:function(t){window.alert(t)},closeRight:function(){this.isshow=!1,this.$emit("closeBox",this.fullWidth)},openRight:function(){this.isshow=!this.isshow,this.isshow?this.$emit("openBox",this.changeWidth):this.$emit("closeBox",this.fullWidth)},setboxDemo:function(){this.isshow=!0,this.$emit("openBox",this.changeWidth)},getData:function(){var t=this;this.$axios.get("./table.json").then((function(e){console.log(e,"fff"),t.styleData=e.data.data.styleData,t.footerData=e.data.data.footerData,t.loginWaysData=e.data.data.loginWays,t.userData=e.data.data.userData,document.title="Login｜"+t.userData.username,t.footDatas=e.data.data.footData,t.dynamicTagsImg=e.data.data.backgroundImg,t.logo_path=e.data.data.logo_path,t.icon_path=e.data.data.icon_path;var a=e.data.data.loginWays;a[0].WayToUrl=a[0].WayToUrl.replace("<nonce>",crypto.randomUUID().replaceAll("-","")),e.data.data.loginWays=a,t.allData=e.data.data,t.allData=e.data.data,t.elGroup=e.data.data.userData.useQingFlowVersion,t.lang=e.data.data.lang,console.log("lalalal",t.lang),t.rulesWayData(t.loginWaysData,t.dynamicTags,"WayName"),t.rulesWayData(t.footDatas.topArea,t.dynamicTagsUp,"text"),t.rulesWayData(t.footDatas.underArea,t.dynamicTagsDown,"text"),t.$emit("pullData",t.allData),t.$emit("sendImgs",t.dynamicTagsImg),t.$emit("logo",t.logo_path),t.$emit("icon",t.icon_path)}))},resetForm:function(t){this.$refs[t].resetFields()},submitForm:function(t,e,a,s,i){var o=this;this.$refs[t].validate((function(r){if(!r)return!1;e.push(a),"ruleForm"==t?o.$emit("loginwaycheck",e):o.$emit("footArea",o.footDatas),i.push(a[s]),"ruleForm"==t?o.dialogFormVisible=!1:"ruleFormFootUp"==t?o.dialogFormVisibleUp=!1:"ruleFormFootDown"==t&&(o.dialogFormVisibleDown=!1)}))},rulesWayData:function(t,e,a){t.forEach((function(t){e.push(t[a])}))},saveForm:function(){var t={data:{lang:this.lang,logo_path:this.logo_path,icon_path:this.icon_path,userData:{username:this.userData.username,useQingFlowVersion:this.userData.useQingFlowVersion},styleData:{qf_logo:this.styleData.qf_logo,qf_login:this.styleData.qf_login,qf_footer:this.styleData.qf_footer,login_type:this.styleData.login_type,login_tips:this.styleData.login_tips,login_footer:this.styleData.login_footer,homeUrl:this.styleData.homeUrl,qf_homeStyle:this.styleData.qf_homeStyle,qf_swiper_way:this.styleData.qf_swiper_way,qf_loopvalue:this.styleData.qf_loopvalue,qf_swiper_pages:this.styleData.qf_swiper_pages,qflowType:this.styleData.qflowType,qflowDomain:this.styleData.qflowDomain,settingHide:"2"},backgroundImg:this.dynamicTagsImg,loginWays:this.loginWaysData,footData:this.footDatas}};this.form.settingData=JSON.stringify(t)},cancel:function(){this.open=!1},getCheckRadio:function(t){this.QFversionData=t},handleCloseMY:function(t,e,a,s){e.splice(e.indexOf(t),1);for(var i=0,o=0;o<a.length;o++){var r=a[o];r[s]==t&&(i=o)}a.splice(i,1)},showInput:function(){var t=this;this.loginWaysData.length>=5?(this.showElAlert=!0,setTimeout((function(){t.showElAlert=!1}),5e3)):(this.dialogFormVisible=!0,this.formNewData={})},showInputUp:function(){var t=this;this.footDatas.topArea.length>=5?(this.showElAlert2=!0,setTimeout((function(){t.showElAlert2=!1}),5e3)):(this.dialogFormVisibleUp=!0,this.formNewDataFooter={})},showInputDown:function(){var t=this;this.footDatas.underArea.length>=5?(this.showElAlert2=!0,setTimeout((function(){t.showElAlert2=!1}),5e3)):(this.dialogFormVisibleDown=!0,this.formNewDataFooter={})},submitFormAll:function(){this.allRight=!0,this.$emit("allright",this.allRight),this.closeRight()},cancelFormData:function(t){this.allRight=!1,this.$emit("allright",this.allRight),this.$refs[t].resetFields()},handleCloseImg:function(t){this.dynamicTagsImg.splice(this.dynamicTagsImg.indexOf(t),1)},showInputImg:function(){var t=this;this.dynamicTagsImg.length>=5?(this.showElAlert3=!0,setTimeout((function(){t.showElAlert3=!1}),5e3)):(this.inputVisibleImg=!0,this.$nextTick((function(){t.$refs.saveTagInputImg.$refs.input.focus()})))},handleInputConfirmImg:function(){var t=this.inputValueImg;t&&this.dynamicTagsImg.push(t),this.inputVisibleImg=!1;var e={flag:this.inputVisibleImg};this.$emit("theNewImg",e),this.inputValueImg=""},getInputText:function(t){console.log(t),this.$emit("logo",this.logo_path)},getInputTexticon:function(){this.$emit("icon",this.icon_path)}},created:function(){this.getData()}}),r=o,n=a(43736),l=(0,n.Z)(r,s,i,!1,null,"2efc45a9",null),u=l.exports},75632:function(t,e,a){a.r(e),a.d(e,{default:function(){return x}});var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{class:"allView"==t.styleData.qf_homeStyle?"everyDayRate login-wrap":"everyDayRate-lr login-wrap-lr",style:{backgroundImage:"allView"==t.styleData.qf_homeStyle?"url(".concat(0==t.imgObj.flag?t.Imgs[t.Imgs.length-1]:t.Imgs[t.aroundNum],")"):"none",width:"".concat(100-t.changeWidth,"%")},on:{click:function(e){return e.stopPropagation(),t.hiddenRight.apply(null,arguments)}}},[e("div",{class:"allView"==t.styleData.qf_homeStyle?t.styleData.qf_login:"right-lr",attrs:{id:"mobile_form"}},[e("div",{class:"allView"==t.styleData.qf_homeStyle?"left-box":"left-box-lr"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"leftAndright"==t.styleData.qf_homeStyle,expression:"styleData.qf_homeStyle == 'leftAndright'"}],attrs:{id:"swiper-out-box"}},[e("el-carousel",{attrs:{direction:t.styleData.qf_swiper_way,autoplay:t.styleData.qf_loopvalue,loop:!0,arrow:"never",interval:3500,"indicator-position":t.styleData.qf_swiper_pages}},t._l(t.Imgs,(function(t,a){return e("el-carousel-item",{key:a},[e("img",{staticClass:"swipermy-imgs",attrs:{src:t,alt:"图片"}})])})),1)],1)]),e("div",{class:"allView"==t.styleData.qf_homeStyle?"right-box":"right-box-lr"},[e("div",{staticClass:"inner-box"},[e("RePassForm",{attrs:{allObj:t.allData,styleData:t.styleData,logo_path:t.logo_path}})],1)]),e("div",{staticClass:"setting-right"},[e("SettingTools",{ref:"child",on:{openBox:t.openB,closeBox:t.closeB,pullData:t.getAllData,loginwaycheck:t.getway,footArea:t.getTopData,sendImgs:t.getImgs,allright:t.getBlu,theNewImg:t.getNewImg,logo:t.getlogo,pubkey:t.getpubkey,icon:t.geticon}})],1)]),1==t.styleData.login_footer&&"allView"===t.styleData.qf_homeStyle?e("div",{staticClass:"footer-bottom"},[e("div",{staticClass:"footer-bottom-center"},[e("div",{staticClass:"move-box"},[e("div",{staticClass:"top-area",class:"footer-bottom-center-up"==t.styleData.qf_footer&&0==t.allRight?t.styleData.qf_footer:"top-area"},t._l(t.footDatas.topArea,(function(a,s){return e("div",{key:s,staticClass:"footer-item"},[e("a",{attrs:{href:a.href}},[a.img?e("img",{attrs:{src:a.img,alt:"",width:"20px",height:"20px"}}):t._e(),e("img",{attrs:{onerror:"this.style.display='none'",src:"#",alt:""}}),e("p",{staticStyle:{float:"right",height:"20px","line-height":"20px",margin:"0px 0px 0px 5px",color:"#fff"}},[t._v(" "+t._s(a.text)+" ")])])])})),0),e("div",{staticClass:"under-area",class:"footer-bottom-center-down"==t.styleData.qf_footer&&0==t.allRight?t.styleData.qf_footer:"under-area"},t._l(t.footDatas.underArea,(function(a,s){return e("div",{key:s,staticClass:"footer-item"},[e("a",{attrs:{href:a.href}},[a.img?e("img",{attrs:{src:a.img,alt:"",width:"20px",height:"20px"}}):t._e(),e("img",{attrs:{onerror:"this.style.display='none'",src:"#",alt:""}}),e("p",{staticStyle:{float:"right",height:"20px","line-height":"20px",margin:"0px 0px 0px 5px",color:"#fff"}},[t._v(" "+t._s(a.text)+" ")])])])})),0)])])]):t._e()])])},i=[],o=(a(41539),function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-box"},[t._m(0),e("div",{staticClass:"login-form"},[e("div",{staticClass:"login-box"},[e("div",{staticClass:"login-form"},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[e("el-form-item",{staticClass:"form-items",attrs:{prop:"usertag"}},[e("el-input",{attrs:{placeholder:"Please enter your email address"},model:{value:t.ruleForm.usertag,callback:function(e){t.$set(t.ruleForm,"usertag",e)},expression:"ruleForm.usertag"}})],1),e("el-form-item",{attrs:{prop:"yzm"}},[e("div",{attrs:{id:"spbttn"}},[e("el-input",{staticStyle:{"border-right":"none !important"},attrs:{autocomplete:"off",placeholder:"Please enter your code",id:"spinput"},model:{value:t.ruleForm.yzm,callback:function(e){t.$set(t.ruleForm,"yzm",e)},expression:"ruleForm.yzm"}}),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],attrs:{id:"sp_btn",type:"text"},on:{click:function(e){return t.sendEmail(t.ruleForm.yzm)}}},[t._v(t._s(t.isFirst?"Send":"Resend"))]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.showTime,expression:"!showTime"}],attrs:{slot:"append",id:"sp_btn2",type:"text",disabled:""},slot:"append"},[t._v(t._s(t.sendTime)+" Second")])],1)]),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{attrs:{"show-password":"",clearable:"",type:"password",placeholder:"Please Input Your Password"},on:{input:t.checkPassword,blur:t.hiddenDiv,focus:t.showDiv},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}}),null==t.passwordCheckResult?e("div",[e("div",{attrs:{id:"card"}},[e("div",[t.regexLength?e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502239057",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4856",width:"20",height:"20"}},[e("path",{attrs:{d:"M874.183789 150.103705A511.970436 511.970436 0 1 0 1023.994127 511.979533a508.274925 508.274925 0 0 0-149.810338-361.875828z m-51.168617 237.365527L491.271975 718.92816a57.820537 57.820537 0 0 1-82.438327 0L201.885021 511.979533A58.673347 58.673347 0 0 1 284.891888 428.972666l165.445193 165.445193 289.955494-289.955494a58.104807 58.104807 0 0 1 41.219164-17.056205 57.365705 57.365705 0 0 1 41.219163 17.340475 58.957617 58.957617 0 0 1 0.28427 82.722597z",fill:"#2BB74A","p-id":"4857"}})])]):e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502299189",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9338",width:"20",height:"20"}},[e("path",{attrs:{d:"M512 64a448 448 0 1 1 0 896A448 448 0 0 1 512 64z m158.4 244.352L512 466.752 353.6 308.352l-45.248 45.248L466.752 512l-158.4 158.4 45.248 45.248L512 557.248l158.4 158.4 45.248-45.248-158.336-158.464 158.336-158.336-45.248-45.248z","p-id":"9339",fill:"#d81e06"}})])]),t._v("Minimum length of 12 characters ")]),e("div",[t.regexLower?e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502239057",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4856",width:"20",height:"20"}},[e("path",{attrs:{d:"M874.183789 150.103705A511.970436 511.970436 0 1 0 1023.994127 511.979533a508.274925 508.274925 0 0 0-149.810338-361.875828z m-51.168617 237.365527L491.271975 718.92816a57.820537 57.820537 0 0 1-82.438327 0L201.885021 511.979533A58.673347 58.673347 0 0 1 284.891888 428.972666l165.445193 165.445193 289.955494-289.955494a58.104807 58.104807 0 0 1 41.219164-17.056205 57.365705 57.365705 0 0 1 41.219163 17.340475 58.957617 58.957617 0 0 1 0.28427 82.722597z",fill:"#2BB74A","p-id":"4857"}})])]):e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502299189",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9338",width:"20",height:"20"}},[e("path",{attrs:{d:"M512 64a448 448 0 1 1 0 896A448 448 0 0 1 512 64z m158.4 244.352L512 466.752 353.6 308.352l-45.248 45.248L466.752 512l-158.4 158.4 45.248 45.248L512 557.248l158.4 158.4 45.248-45.248-158.336-158.464 158.336-158.336-45.248-45.248z","p-id":"9339",fill:"#d81e06"}})])]),e("div",{staticStyle:{margin:"-38px 0px 0px 30px"}},[t._v(" Must contain at least 2 of the following: "),e("br"),t._v("uppercase, lowercase, digits and special characters ")])])])]):t._e()],1),e("el-form-item",{attrs:{prop:"repassword"}},[e("el-input",{attrs:{"show-password":"",clearable:"",type:"password",placeholder:"Please Input Your Password Again"},model:{value:t.ruleForm.repassword,callback:function(e){t.$set(t.ruleForm,"repassword",e)},expression:"ruleForm.repassword"}})],1),e("el-form-item",{staticClass:"form-items"},[e("div",{staticClass:"box-form-out"},[e("div",{staticClass:"box-form-out-in-box"},[e("div",{staticClass:"box-form-out-inner"},[e("el-button",{class:t.isClick?"cancelbtn1":"cancelbtn2",attrs:{type:"primary",disabled:t.isClick},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("Reset Password")])],1)])])])],1)],1),e("div",{staticClass:"login-box-bottom-area"},[e("div",{staticClass:"bottom-text-signup"},[e("div",[e("p",[e("span",{on:{click:t.toLogin}},[t._v("Log in")])])])])]),e("el-dialog",{attrs:{title:"Swipe And Verify",visible:t.dialogVisible,width:t.dialogWidth,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("DragVerify",{key:t.mainKey,attrs:{message:{isPass:t.isPass,dialogVisible:t.dialogVisible}},on:{sendMessage:t.sendMessage}})],1)],1)])])}),r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-box-top-area"},[e("div",{staticClass:"login-title"},[e("span",[t._v("Scholarship Management Gateway System")])]),e("div",{staticClass:"login-top-text"},[e("span",[t._v("Reset Password")])])])}],n=a(51907),l=a(85617),u=(a(21703),a(74916),a(77601),a(57658),a(38862),a(28762)),c=a(1950),g=a(16777),h=a(18968),d=a(68028),m={components:{DragVerify:c.Z},data:function(){var t=this,e=function(e,a,s){""===a?s(new Error("Please enter your Password")):(""!==t.ruleForm.password&&t.$refs.ruleForm.validateField("checkPass"),s())},a=function(e,a,s){""===a?s(new Error("Please enter Password again")):a!==t.ruleForm.password?s(new Error("The new password and confirmation password do not match.")):s()};return{TIME_COUNT:60,pubKey:"",mainKey:0,dialogWidth:"",isPass:!1,dialogVisible:!1,isClick:!0,isFirst:!0,passwordCheckLoading:!1,passwordCheckResult:null,regexLength:!1,regexLower:!1,regexUper:!1,regexNumber:!1,regexSp:!1,showTime:!0,sendTime:"",timer:null,ruleForm:{usertag:"",yzm:"",password:"",repassword:""},rules:{usertag:[{required:!0,message:"Please enter your email address",trigger:["blur","change"]},{pattern:h.sM,message:"please enter a valid email address",trigger:["blur","change"]}],yzm:[{required:!0,message:"Please enter the verification code you received",trigger:["blur","change"]}],password:[{required:!0,validator:e,trigger:["blur","change"]},{pattern:h.Ao,message:"Please enter a password that meets the rules",trigger:["blur","change"]}],repassword:[{required:!0,validator:a,trigger:["blur","change"]},{pattern:h.Ao,message:"Please enter a password that meets the rules",trigger:["blur","change"]}]}}},methods:{checkPassword:function(){h.ZG.test(this.ruleForm.password)?this.regexLength=!0:this.regexLength=!1,h.Ao.test(this.ruleForm.password)?this.regexLower=!0:this.regexLower=!1},hiddenDiv:function(){var t=document.getElementById("card");t.style.opacity="0",t.style.zIndex="-9999",t.style.transition="all 0.6s"},showDiv:function(){var t=document.getElementById("card");t.style.opacity="1",t.style.zIndex="9999",t.style.transition="all 0.6s"},toLogin:function(){this.$router.push("/login")},sendEmail:function(){var t=this;this.$refs.ruleForm.validateField("usertag",(function(e){e||(t.dialogVisible=!0,t.mainKey=t.mainKey+1)}))},sendMessage:function(t){var e=this;return(0,l.Z)((0,n.Z)().mark((function a(){var s;return(0,n.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.isPass,e.isPass=s,e.dialogVisible=!1,a.next=5,e.sendEmailCode();case 5:case"end":return a.stop()}}),a)})))()},startTimes:function(){var t=this;setTimeout((0,l.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isClick=!1,a=t.TIME_COUNT,t.timer||(t.sendTime=a,t.showTime=!1,t.timer=setInterval((function(){t.sendTime>0&&t.sendTime<=a?t.sendTime--:(t.showTime=!0,t.isFirst=!1,clearInterval(t.timer),t.timer=null)}),1e3));case 3:case"end":return e.stop()}}),e)}))),200)},sendEmailCode:function(){var t=this;return(0,l.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,d.zu)(JSON.stringify({email:t.ruleForm.usertag})).then((function(e){200==e.status&&(0===e.data.code?(t.$notify.success({title:"Sent successfully",duration:0,position:"bottom-left",showClose:!0}),t.startTimes()):40011==e.data.code?t.$notify.error({title:"Error",message:"User does not exist",duration:0,position:"bottom-left",showClose:!0}):t.$notify.error({title:"Error",message:"errorCode ".concat(e.data.code),duration:0,position:"bottom-left",showClose:!0}))}),(function(e){t.$notify.error({title:"Error",message:e,duration:0,position:"bottom-left",showClose:!0})}));case 2:case"end":return e.stop()}}),e)})))()},changePassword:function(){var t=this;return(0,l.Z)((0,n.Z)().mark((function e(){var a,s,i,o,r,l;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.ruleForm,s=a.usertag,i=a.yzm,o=a.password,r=new u.Z,r.setPublicKey(t.pubKey),l=r.encrypt(o),e.next=6,(0,d.dt)(JSON.stringify({email:s,verificationCode:i,password:l})).then((function(e){200==e.status&&(0===e.data.code?0===e.data.result.errCode?(t.$notify.success({title:"Reset Password Successfully",duration:0,position:"bottom-left",showClose:!0}),setTimeout((function(){t.$router.push("/login")}),3e3)):t.$notify.error({title:"Error",message:"errorCode ".concat(e.data.result.errCode),duration:0,position:"bottom-left",showClose:!0}):t.$notify.error({title:"Error",message:"errorCode ".concat(e.data.code),duration:0,position:"bottom-left",showClose:!0}))}),(function(e){t.$notify.error({title:"Hint",message:e,duration:0,position:"bottom-left",showClose:!0})}));case 6:case"end":return e.stop()}}),e)})))()},submitForm:function(t){var e=this;this.$refs[t].validate(function(){var t=(0,l.Z)((0,n.Z)().mark((function t(a){return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}return console.log("success"),t.next=4,e.changePassword();case 4:t.next=7;break;case 6:console.log("error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getPubKey:function(){var t=this;return(0,l.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Pd)().then((function(e){t.pubKey=e.data.data.pubkey}));case 2:case"end":return e.stop()}}),e)})))()}},created:function(){(0,g.tq)()?this.dialogWidth="100%":this.dialogWidth="30%"},mounted:function(){var t=this;return(0,l.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=document.getElementById("card"),a.style.opacity="0",a.style.zIndex="-9999",a.style.transition="all 0.6s",e.next=6,t.getPubKey();case 6:case"end":return e.stop()}}),e)})))()}},p=m,f=a(43736),w=(0,f.Z)(p,o,r,!1,null,"07ba3841",null),y=w.exports,v=a(58595),b={name:"LoginPage",filters:{capitalize:function(t){return t+"登录"}},props:{msg:String},data:function(){return{styleData:{},logo_path:"",footerData:[],open:!1,param:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},form:{settingData:""},title:"",pubKey:"",EMAIL_REGEX:/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,MOBILENUM_REGEX:/^\d{4,11}$/,changeWidth:0,loginWays:[],footDatas:{},allRight:!1,Imgs:[],imgObj:{},allData:{},icon_path:"",ipAddress:""}},created:function(){},beforeUpdate:function(){this.setIcon()},computed:{aroundNum:function(){return Math.floor(Math.random()*this.Imgs.length)}},methods:{hiddenRight:function(){this.$refs.child.closeRight()},closeB:function(t){this.changeWidth=t},openB:function(t){this.changeWidth=t},getpubkey:function(t){this.pubKey=t},getNewImg:function(t){this.imgObj=t},getImgs:function(t){this.Imgs=t},getway:function(t){this.loginWays=t},getTopData:function(t){this.footDatas=t},getBlu:function(t){this.allRight=t},getAllData:function(t){this.styleData=t.styleData,this.footerData=t.footerData,this.loginWays=t.loginWays,this.footDatas=t.footData,this.allData=t},getlogo:function(t){this.logo_path=t},geticon:function(t){console.log(t),this.icon_path=t},setIcon:function(){document.querySelector("link").href=this.icon_path},getUserIpAddress:function(){var t=this;fetch("https://api.ipify.org?format=json").then((function(t){return t.json()})).then((function(e){var a=e.ip;console.log(a),t.ipAddress=a}))}},mounted:function(){this.getUserIpAddress()},components:{RePassForm:y,SettingTools:v.Z}},D=b,_=(0,f.Z)(D,s,i,!1,null,"71731503",null),x=_.exports},18968:function(t,e,a){a.d(e,{Ao:function(){return i},ZG:function(){return o},sM:function(){return s}});var s=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/,i=/^(?!(?:[A-Z]+|[a-z]+|\d+|[@#$%^&+=]+)$).{12,}$/,o=/^.{12,}$/},68757:function(t,e,a){var s=a(82109),i=a(46916),o=a(1702),r=a(84488),n=a(60614),l=a(68554),u=a(47850),c=a(41340),g=a(58173),h=a(34706),d=a(10647),m=a(5112),p=a(31913),f=m("replace"),w=TypeError,y=o("".indexOf),v=o("".replace),b=o("".slice),D=Math.max,_=function(t,e,a){return a>t.length?-1:""===e?a:y(t,e,a)};s({target:"String",proto:!0},{replaceAll:function(t,e){var a,s,o,m,x,A,I,F,C,Z=r(this),T=0,$=0,z="";if(!l(t)){if(a=u(t),a&&(s=c(r(h(t))),!~y(s,"g")))throw w("`.replaceAll` does not allow non-global regexes");if(o=g(t,f),o)return i(o,t,Z,e);if(p&&a)return v(c(Z),t,e)}m=c(Z),x=c(t),A=n(e),A||(e=c(e)),I=x.length,F=D(1,I),T=_(m,x,0);while(-1!==T)C=A?c(e(x,T,m)):d(x,m,T,[],void 0,e),z+=b(m,$,T)+C,$=T+I,T=_(m,x,T+F);return $<m.length&&(z+=b(m,$)),z}})}}]);
//# sourceMappingURL=RePassWordView-legacy.db25916b.js.map