"use strict";(self["webpackChunkSMGS"]=self["webpackChunkSMGS"]||[]).push([[867],{8595:function(t,e,s){s.d(e,{Z:function(){return h}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawer"},["1"===t.styleData.settingHide?e("div",{staticClass:"setting"}):t._e()])},i=[],o=(s(7658),{components:{},data(){return{formNewData:{WayName:"",WayImgUrl:"",WayToUrl:""},formNewDataFooter:{text:"",img:"",href:""},dialogFormVisible:!1,dialogFormVisibleUp:!1,dialogFormVisibleDown:!1,dynamicTags:[],dynamicTagsUp:[],dynamicTagsDown:[],dynamicTagsImg:[],inputVisibleImg:!1,inputValueImg:"",inputVisible:!1,isshow:!1,fullWidth:0,changeWidth:34,allData:{},QFversionData:4.3,userData:{},useQingFlowVersion:[4.1,4.2,4.3,4.4,4.5,4.6],styleData:{},footDatas:{},loginWaysData:[],logo_path:"",icon_path:"",open:!1,param:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},rulesDialog:{WayName:[{required:!0,message:"请输入登录方式名称（例如：微信；企业微信）",trigger:"blur"}],WayImgUrl:[{required:!0,message:"请输入图片的URL地址",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址",trigger:"blur"}],WayToUrl:[{required:!0,message:"请输入点击图片所跳转到的地址",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址",trigger:"blur"}]},rulesDialogFoot:{text:[{required:!0,message:"请输入相关描述",trigger:"blur"}],img:[{required:!1,message:"请输入图片的URL地址【如果没有就留空】",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址"}],href:[{required:!0,message:"请输入点击文本所跳转到的地址",trigger:"blur"},{pattern:/((http|ftp|https):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\.\/-~-]*)?/,message:"请输入正确的地址"}]},form:{settingData:""},title:"",pubKey:"",EMAIL_REGEX:/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,MOBILENUM_REGEX:/^\d{4,11}$/,elGroup:"",showElAlert:!1,showElAlert2:!1,showElAlert3:!1,allRight:!1,lang:""}},methods:{getlangval(t){this.lang=t},changeSelect(t){window.alert(t)},closeRight(){this.isshow=!1,this.$emit("closeBox",this.fullWidth)},openRight(){this.isshow=!this.isshow,this.isshow?this.$emit("openBox",this.changeWidth):this.$emit("closeBox",this.fullWidth)},setboxDemo(){this.isshow=!0,this.$emit("openBox",this.changeWidth)},getData(){this.$axios.get("./table.json").then((t=>{console.log(t,"fff"),this.styleData=t.data.data.styleData,this.footerData=t.data.data.footerData,this.loginWaysData=t.data.data.loginWays,this.userData=t.data.data.userData,document.title="Login｜"+this.userData.username,this.footDatas=t.data.data.footData,this.dynamicTagsImg=t.data.data.backgroundImg,this.logo_path=t.data.data.logo_path,this.icon_path=t.data.data.icon_path;const e=t.data.data.loginWays;e[0].WayToUrl=e[0].WayToUrl.replace("<nonce>",crypto.randomUUID().replaceAll("-","")),t.data.data.loginWays=e,this.allData=t.data.data,this.allData=t.data.data,this.elGroup=t.data.data.userData.useQingFlowVersion,this.lang=t.data.data.lang,console.log("lalalal",this.lang),this.rulesWayData(this.loginWaysData,this.dynamicTags,"WayName"),this.rulesWayData(this.footDatas.topArea,this.dynamicTagsUp,"text"),this.rulesWayData(this.footDatas.underArea,this.dynamicTagsDown,"text"),this.$emit("pullData",this.allData),this.$emit("sendImgs",this.dynamicTagsImg),this.$emit("logo",this.logo_path),this.$emit("icon",this.icon_path)}))},resetForm(t){this.$refs[t].resetFields()},submitForm(t,e,s,a,i){this.$refs[t].validate((o=>{if(!o)return!1;e.push(s),"ruleForm"==t?this.$emit("loginwaycheck",e):this.$emit("footArea",this.footDatas),i.push(s[a]),"ruleForm"==t?this.dialogFormVisible=!1:"ruleFormFootUp"==t?this.dialogFormVisibleUp=!1:"ruleFormFootDown"==t&&(this.dialogFormVisibleDown=!1)}))},rulesWayData(t,e,s){t.forEach((t=>{e.push(t[s])}))},saveForm(){var t={data:{lang:this.lang,logo_path:this.logo_path,icon_path:this.icon_path,userData:{username:this.userData.username,useQingFlowVersion:this.userData.useQingFlowVersion},styleData:{qf_logo:this.styleData.qf_logo,qf_login:this.styleData.qf_login,qf_footer:this.styleData.qf_footer,login_type:this.styleData.login_type,login_tips:this.styleData.login_tips,login_footer:this.styleData.login_footer,homeUrl:this.styleData.homeUrl,qf_homeStyle:this.styleData.qf_homeStyle,qf_swiper_way:this.styleData.qf_swiper_way,qf_loopvalue:this.styleData.qf_loopvalue,qf_swiper_pages:this.styleData.qf_swiper_pages,qflowType:this.styleData.qflowType,qflowDomain:this.styleData.qflowDomain,settingHide:"2"},backgroundImg:this.dynamicTagsImg,loginWays:this.loginWaysData,footData:this.footDatas}};this.form.settingData=JSON.stringify(t)},cancel(){this.open=!1},getCheckRadio:function(t){this.QFversionData=t},handleCloseMY(t,e,s,a){e.splice(e.indexOf(t),1);let i=0;for(let o=0;o<s.length;o++){const e=s[o];e[a]==t&&(i=o)}s.splice(i,1)},showInput(){this.loginWaysData.length>=5?(this.showElAlert=!0,setTimeout((()=>{this.showElAlert=!1}),5e3)):(this.dialogFormVisible=!0,this.formNewData={})},showInputUp(){this.footDatas.topArea.length>=5?(this.showElAlert2=!0,setTimeout((()=>{this.showElAlert2=!1}),5e3)):(this.dialogFormVisibleUp=!0,this.formNewDataFooter={})},showInputDown(){this.footDatas.underArea.length>=5?(this.showElAlert2=!0,setTimeout((()=>{this.showElAlert2=!1}),5e3)):(this.dialogFormVisibleDown=!0,this.formNewDataFooter={})},submitFormAll(){this.allRight=!0,this.$emit("allright",this.allRight),this.closeRight()},cancelFormData(t){this.allRight=!1,this.$emit("allright",this.allRight),this.$refs[t].resetFields()},handleCloseImg(t){this.dynamicTagsImg.splice(this.dynamicTagsImg.indexOf(t),1)},showInputImg(){this.dynamicTagsImg.length>=5?(this.showElAlert3=!0,setTimeout((()=>{this.showElAlert3=!1}),5e3)):(this.inputVisibleImg=!0,this.$nextTick((()=>{this.$refs.saveTagInputImg.$refs.input.focus()})))},handleInputConfirmImg(){let t=this.inputValueImg;t&&this.dynamicTagsImg.push(t),this.inputVisibleImg=!1;let e={flag:this.inputVisibleImg};this.$emit("theNewImg",e),this.inputValueImg=""},getInputText(t){console.log(t),this.$emit("logo",this.logo_path)},getInputTexticon(){this.$emit("icon",this.icon_path)}},created(){this.getData()}}),r=o,l=s(3736),n=(0,l.Z)(r,a,i,!1,null,"2efc45a9",null),h=n.exports},5632:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{class:"allView"==t.styleData.qf_homeStyle?"everyDayRate login-wrap":"everyDayRate-lr login-wrap-lr",style:{backgroundImage:"allView"==t.styleData.qf_homeStyle?`url(${0==t.imgObj.flag?t.Imgs[t.Imgs.length-1]:t.Imgs[t.aroundNum]})`:"none",width:100-t.changeWidth+"%"},on:{click:function(e){return e.stopPropagation(),t.hiddenRight.apply(null,arguments)}}},[e("div",{class:"allView"==t.styleData.qf_homeStyle?t.styleData.qf_login:"right-lr",attrs:{id:"mobile_form"}},[e("div",{class:"allView"==t.styleData.qf_homeStyle?"left-box":"left-box-lr"},[e("div",{directives:[{name:"show",rawName:"v-show",value:"leftAndright"==t.styleData.qf_homeStyle,expression:"styleData.qf_homeStyle == 'leftAndright'"}],attrs:{id:"swiper-out-box"}},[e("el-carousel",{attrs:{direction:t.styleData.qf_swiper_way,autoplay:t.styleData.qf_loopvalue,loop:!0,arrow:"never",interval:3500,"indicator-position":t.styleData.qf_swiper_pages}},t._l(t.Imgs,(function(t,s){return e("el-carousel-item",{key:s},[e("img",{staticClass:"swipermy-imgs",attrs:{src:t,alt:"图片"}})])})),1)],1)]),e("div",{class:"allView"==t.styleData.qf_homeStyle?"right-box":"right-box-lr"},[e("div",{staticClass:"inner-box"},[e("RePassForm",{attrs:{allObj:t.allData,styleData:t.styleData,logo_path:t.logo_path}})],1)]),e("div",{staticClass:"setting-right"},[e("SettingTools",{ref:"child",on:{openBox:t.openB,closeBox:t.closeB,pullData:t.getAllData,loginwaycheck:t.getway,footArea:t.getTopData,sendImgs:t.getImgs,allright:t.getBlu,theNewImg:t.getNewImg,logo:t.getlogo,pubkey:t.getpubkey,icon:t.geticon}})],1)]),1==t.styleData.login_footer&&"allView"===t.styleData.qf_homeStyle?e("div",{staticClass:"footer-bottom"},[e("div",{staticClass:"footer-bottom-center"},[e("div",{staticClass:"move-box"},[e("div",{staticClass:"top-area",class:"footer-bottom-center-up"==t.styleData.qf_footer&&0==t.allRight?t.styleData.qf_footer:"top-area"},t._l(t.footDatas.topArea,(function(s,a){return e("div",{key:a,staticClass:"footer-item"},[e("a",{attrs:{href:s.href}},[s.img?e("img",{attrs:{src:s.img,alt:"",width:"20px",height:"20px"}}):t._e(),e("img",{attrs:{onerror:"this.style.display='none'",src:"#",alt:""}}),e("p",{staticStyle:{float:"right",height:"20px","line-height":"20px",margin:"0px 0px 0px 5px",color:"#fff"}},[t._v(" "+t._s(s.text)+" ")])])])})),0),e("div",{staticClass:"under-area",class:"footer-bottom-center-down"==t.styleData.qf_footer&&0==t.allRight?t.styleData.qf_footer:"under-area"},t._l(t.footDatas.underArea,(function(s,a){return e("div",{key:a,staticClass:"footer-item"},[e("a",{attrs:{href:s.href}},[s.img?e("img",{attrs:{src:s.img,alt:"",width:"20px",height:"20px"}}):t._e(),e("img",{attrs:{onerror:"this.style.display='none'",src:"#",alt:""}}),e("p",{staticStyle:{float:"right",height:"20px","line-height":"20px",margin:"0px 0px 0px 5px",color:"#fff"}},[t._v(" "+t._s(s.text)+" ")])])])})),0)])])]):t._e()])])},i=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-box"},[t._m(0),e("div",{staticClass:"login-form"},[e("div",{staticClass:"login-box"},[e("div",{staticClass:"login-form"},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[e("el-form-item",{staticClass:"form-items",attrs:{prop:"usertag"}},[e("el-input",{attrs:{placeholder:"Please enter your email address"},model:{value:t.ruleForm.usertag,callback:function(e){t.$set(t.ruleForm,"usertag",e)},expression:"ruleForm.usertag"}})],1),e("el-form-item",{attrs:{prop:"yzm"}},[e("div",{attrs:{id:"spbttn"}},[e("el-input",{staticStyle:{"border-right":"none !important"},attrs:{autocomplete:"off",placeholder:"Please enter your code",id:"spinput"},model:{value:t.ruleForm.yzm,callback:function(e){t.$set(t.ruleForm,"yzm",e)},expression:"ruleForm.yzm"}}),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],attrs:{id:"sp_btn",type:"text"},on:{click:function(e){return t.sendEmail(t.ruleForm.yzm)}}},[t._v(t._s(t.isFirst?"Send":"Resend"))]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.showTime,expression:"!showTime"}],attrs:{slot:"append",id:"sp_btn2",type:"text",disabled:""},slot:"append"},[t._v(t._s(t.sendTime)+" Second")])],1)]),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{attrs:{"show-password":"",clearable:"",type:"password",placeholder:"Please Input Your Password"},on:{input:t.checkPassword,blur:t.hiddenDiv,focus:t.showDiv},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}}),null==t.passwordCheckResult?e("div",[e("div",{attrs:{id:"card"}},[e("div",[t.regexLength?e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502239057",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4856",width:"20",height:"20"}},[e("path",{attrs:{d:"M874.183789 150.103705A511.970436 511.970436 0 1 0 1023.994127 511.979533a508.274925 508.274925 0 0 0-149.810338-361.875828z m-51.168617 237.365527L491.271975 718.92816a57.820537 57.820537 0 0 1-82.438327 0L201.885021 511.979533A58.673347 58.673347 0 0 1 284.891888 428.972666l165.445193 165.445193 289.955494-289.955494a58.104807 58.104807 0 0 1 41.219164-17.056205 57.365705 57.365705 0 0 1 41.219163 17.340475 58.957617 58.957617 0 0 1 0.28427 82.722597z",fill:"#2BB74A","p-id":"4857"}})])]):e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502299189",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9338",width:"20",height:"20"}},[e("path",{attrs:{d:"M512 64a448 448 0 1 1 0 896A448 448 0 0 1 512 64z m158.4 244.352L512 466.752 353.6 308.352l-45.248 45.248L466.752 512l-158.4 158.4 45.248 45.248L512 557.248l158.4 158.4 45.248-45.248-158.336-158.464 158.336-158.336-45.248-45.248z","p-id":"9339",fill:"#d81e06"}})])]),t._v("Minimum length of 12 characters ")]),e("div",[t.regexLower?e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502239057",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4856",width:"20",height:"20"}},[e("path",{attrs:{d:"M874.183789 150.103705A511.970436 511.970436 0 1 0 1023.994127 511.979533a508.274925 508.274925 0 0 0-149.810338-361.875828z m-51.168617 237.365527L491.271975 718.92816a57.820537 57.820537 0 0 1-82.438327 0L201.885021 511.979533A58.673347 58.673347 0 0 1 284.891888 428.972666l165.445193 165.445193 289.955494-289.955494a58.104807 58.104807 0 0 1 41.219164-17.056205 57.365705 57.365705 0 0 1 41.219163 17.340475 58.957617 58.957617 0 0 1 0.28427 82.722597z",fill:"#2BB74A","p-id":"4857"}})])]):e("span",[e("svg",{staticClass:"icon",attrs:{t:"1692502299189",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9338",width:"20",height:"20"}},[e("path",{attrs:{d:"M512 64a448 448 0 1 1 0 896A448 448 0 0 1 512 64z m158.4 244.352L512 466.752 353.6 308.352l-45.248 45.248L466.752 512l-158.4 158.4 45.248 45.248L512 557.248l158.4 158.4 45.248-45.248-158.336-158.464 158.336-158.336-45.248-45.248z","p-id":"9339",fill:"#d81e06"}})])]),e("div",{staticStyle:{margin:"-38px 0px 0px 30px"}},[t._v(" Must contain at least 2 of the following: "),e("br"),t._v("uppercase, lowercase, digits and special characters ")])])])]):t._e()],1),e("el-form-item",{attrs:{prop:"repassword"}},[e("el-input",{attrs:{"show-password":"",clearable:"",type:"password",placeholder:"Please Input Your Password Again"},model:{value:t.ruleForm.repassword,callback:function(e){t.$set(t.ruleForm,"repassword",e)},expression:"ruleForm.repassword"}})],1),e("el-form-item",{staticClass:"form-items"},[e("div",{staticClass:"box-form-out"},[e("div",{staticClass:"box-form-out-in-box"},[e("div",{staticClass:"box-form-out-inner"},[e("el-button",{class:t.isClick?"cancelbtn1":"cancelbtn2",attrs:{type:"primary",disabled:t.isClick},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("Reset Password")])],1)])])])],1)],1),e("div",{staticClass:"login-box-bottom-area"},[e("div",{staticClass:"bottom-text-signup"},[e("div",[e("p",[e("span",{on:{click:t.toLogin}},[t._v("Log in")])])])])]),e("el-dialog",{attrs:{title:"Swipe And Verify",visible:t.dialogVisible,width:t.dialogWidth,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("DragVerify",{key:t.mainKey,attrs:{message:{isPass:t.isPass,dialogVisible:t.dialogVisible}},on:{sendMessage:t.sendMessage}})],1)],1)])])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-box-top-area"},[e("div",{staticClass:"login-title"},[e("span",[t._v("Scholarship Management Gateway System")])]),e("div",{staticClass:"login-top-text"},[e("span",[t._v("Reset Password")])])])}],l=(s(1703),s(7658),s(8762)),n=s(1950),h=s(6777),g=s(8968),d=s(8028),m={components:{DragVerify:n.Z},data(){var t=(t,e,s)=>{""===e?s(new Error("Please enter your Password")):(""!==this.ruleForm.password&&this.$refs.ruleForm.validateField("checkPass"),s())},e=(t,e,s)=>{""===e?s(new Error("Please enter Password again")):e!==this.ruleForm.password?s(new Error("The new password and confirmation password do not match.")):s()};return{TIME_COUNT:60,pubKey:"",mainKey:0,dialogWidth:"",isPass:!1,dialogVisible:!1,isClick:!0,isFirst:!0,passwordCheckLoading:!1,passwordCheckResult:null,regexLength:!1,regexLower:!1,regexUper:!1,regexNumber:!1,regexSp:!1,showTime:!0,sendTime:"",timer:null,ruleForm:{usertag:"",yzm:"",password:"",repassword:""},rules:{usertag:[{required:!0,message:"Please enter your email address",trigger:["blur","change"]},{pattern:g.sM,message:"please enter a valid email address",trigger:["blur","change"]}],yzm:[{required:!0,message:"Please enter the verification code you received",trigger:["blur","change"]}],password:[{required:!0,validator:t,trigger:["blur","change"]},{pattern:g.Ao,message:"Please enter a password that meets the rules",trigger:["blur","change"]}],repassword:[{required:!0,validator:e,trigger:["blur","change"]},{pattern:g.Ao,message:"Please enter a password that meets the rules",trigger:["blur","change"]}]}}},methods:{checkPassword(){g.ZG.test(this.ruleForm.password)?this.regexLength=!0:this.regexLength=!1,g.Ao.test(this.ruleForm.password)?this.regexLower=!0:this.regexLower=!1},hiddenDiv(){let t=document.getElementById("card");t.style.opacity="0",t.style.zIndex="-9999",t.style.transition="all 0.6s"},showDiv(){let t=document.getElementById("card");t.style.opacity="1",t.style.zIndex="9999",t.style.transition="all 0.6s"},toLogin(){this.$router.push("/login")},sendEmail(){this.$refs.ruleForm.validateField("usertag",(t=>{t||(this.dialogVisible=!0,this.mainKey=this.mainKey+1)}))},async sendMessage(t){const{isPass:e}=t;this.isPass=e,this.dialogVisible=!1,await this.sendEmailCode()},startTimes(){setTimeout((async()=>{this.isClick=!1;const t=this.TIME_COUNT;this.timer||(this.sendTime=t,this.showTime=!1,this.timer=setInterval((()=>{this.sendTime>0&&this.sendTime<=t?this.sendTime--:(this.showTime=!0,this.isFirst=!1,clearInterval(this.timer),this.timer=null)}),1e3))}),200)},async sendEmailCode(){await(0,d.zu)(JSON.stringify({email:this.ruleForm.usertag})).then((t=>{200==t.status&&(0===t.data.code?(this.$notify.success({title:"Sent successfully",duration:0,position:"bottom-left",showClose:!0}),this.startTimes()):40011==t.data.code?this.$notify.error({title:"Error",message:"User does not exist",duration:0,position:"bottom-left",showClose:!0}):this.$notify.error({title:"Error",message:`errorCode ${t.data.code}`,duration:0,position:"bottom-left",showClose:!0}))}),(t=>{this.$notify.error({title:"Error",message:t,duration:0,position:"bottom-left",showClose:!0})}))},async changePassword(){const{usertag:t,yzm:e,password:s}=this.ruleForm;let a=new l.Z;a.setPublicKey(this.pubKey);let i=a.encrypt(s);await(0,d.dt)(JSON.stringify({email:t,verificationCode:e,password:i})).then((t=>{200==t.status&&(0===t.data.code?0===t.data.result.errCode?(this.$notify.success({title:"Reset Password Successfully",duration:0,position:"bottom-left",showClose:!0}),setTimeout((()=>{this.$router.push("/login")}),3e3)):this.$notify.error({title:"Error",message:`errorCode ${t.data.result.errCode}`,duration:0,position:"bottom-left",showClose:!0}):this.$notify.error({title:"Error",message:`errorCode ${t.data.code}`,duration:0,position:"bottom-left",showClose:!0}))}),(t=>{this.$notify.error({title:"Hint",message:t,duration:0,position:"bottom-left",showClose:!0})}))},submitForm(t){this.$refs[t].validate((async t=>{t?(console.log("success"),await this.changePassword()):console.log("error")}))},async getPubKey(){await(0,d.Pd)().then((t=>{this.pubKey=t.data.data.pubkey}))}},created(){(0,h.tq)()?this.dialogWidth="100%":this.dialogWidth="30%"},async mounted(){let t=document.getElementById("card");t.style.opacity="0",t.style.zIndex="-9999",t.style.transition="all 0.6s",await this.getPubKey()}},u=m,p=s(3736),c=(0,p.Z)(u,o,r,!1,null,"07ba3841",null),f=c.exports,y=s(8595),w={name:"LoginPage",filters:{capitalize:function(t){return t+"登录"}},props:{msg:String},data(){return{styleData:{},logo_path:"",footerData:[],open:!1,param:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},form:{settingData:""},title:"",pubKey:"",EMAIL_REGEX:/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,MOBILENUM_REGEX:/^\d{4,11}$/,changeWidth:0,loginWays:[],footDatas:{},allRight:!1,Imgs:[],imgObj:{},allData:{},icon_path:"",ipAddress:""}},created(){},beforeUpdate(){this.setIcon()},computed:{aroundNum:function(){return Math.floor(Math.random()*this.Imgs.length)}},methods:{hiddenRight(){this.$refs.child.closeRight()},closeB:function(t){this.changeWidth=t},openB:function(t){this.changeWidth=t},getpubkey(t){this.pubKey=t},getNewImg(t){this.imgObj=t},getImgs(t){this.Imgs=t},getway(t){this.loginWays=t},getTopData(t){this.footDatas=t},getBlu(t){this.allRight=t},getAllData(t){this.styleData=t.styleData,this.footerData=t.footerData,this.loginWays=t.loginWays,this.footDatas=t.footData,this.allData=t},getlogo(t){this.logo_path=t},geticon(t){console.log(t),this.icon_path=t},setIcon(){document.querySelector("link").href=this.icon_path},getUserIpAddress(){fetch("https://api.ipify.org?format=json").then((t=>t.json())).then((t=>{const{ip:e}=t;console.log(e),this.ipAddress=e}))}},mounted(){this.getUserIpAddress()},components:{RePassForm:f,SettingTools:y.Z}},D=w,b=(0,p.Z)(D,a,i,!1,null,"71731503",null),_=b.exports},8968:function(t,e,s){s.d(e,{Ao:function(){return i},ZG:function(){return o},sM:function(){return a}});const a=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/,i=/^(?!(?:[A-Z]+|[a-z]+|\d+|[@#$%^&+=]+)$).{12,}$/,o=/^.{12,}$/}}]);
//# sourceMappingURL=RePassWordView.b541c173.js.map